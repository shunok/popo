{"version":3,"file":"popo.js","sources":["../src/utils/util.js","../src/constant/constant.js","../src/dom/dom.js","../src/utils/browser.js","../src/dom/dom_event.js","../src/constant/error.js","../src/dom/vdom/vnode.js","../src/popo/core/layout.js","../src/popo/core/panel.js","../src/popo/options/popo.js","../src/popo/options/style.js","../src/dom/vdom/vsvg_base.js","../src/dom/vdom/vsvg.js","../src/popo/core/dev.js","../src/popo/options/panel.js","../src/popo/core/popo.js","../src/popo/handle/drag.js","../src/popo/handle/resize.js","../src/popo/handle/wheelzoom.js","../src/popo/index.js","../src/index.js"],"sourcesContent":["let lastId = 0;\r\n\r\nexport function stamp(obj) {\r\n    /*eslint-disable */\r\n    obj._popo_id = obj._popo_id || ++lastId;\r\n\r\n    return obj._popo_id;\r\n    /*eslint-enable */\r\n}\r\n\r\nexport function bind(fn, obj) {\r\n    if (!obj) return fn;\r\n    const slice = Array.prototype.slice,\r\n        args = slice.call(arguments, 2);\r\n\r\n    if (fn.bind) {\r\n        return fn.bind.apply(fn, slice.call(arguments, 1));\r\n    }\r\n\r\n    return function _fn() {\r\n        return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\r\n    };\r\n}\r\n\r\nexport function extend(dest) {\r\n    for (let j = 1, len = arguments.length; j < len; j++) {\r\n        const src = arguments[j];\r\n\r\n        for (const i in src) {\r\n            dest[i] = src[i];\r\n        }\r\n    }\r\n\r\n    return dest;\r\n}\r\n\r\nexport function legalNumber(v, min, max) {\r\n    if (!isNumber(v)) {\r\n        return v;\r\n    }\r\n    if (isNumber(min)) {\r\n        if (v < min) return min;\r\n    }\r\n    if (isNumber(max)) {\r\n        if (v > max) return max;\r\n    }\r\n\r\n    return v;\r\n}\r\n\r\nexport function trim(str) {\r\n\r\n    if (!isString(str)) { return str; }\r\n\r\n    return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\r\n}\r\n\r\nexport function splitWords(str) {\r\n    return trim(str).split(/\\s+/);\r\n}\r\n\r\nfunction type(o, t) {\r\n    return (Object.prototype.toString.call(o) === `[object ${t}]`);\r\n}\r\n\r\nexport function isArray(obj) { return type(obj, 'Array'); }\r\n\r\nexport function isString(obj) { return type(obj, 'String'); }\r\n\r\nexport function isNumber(obj) { return type(obj, 'Number'); }\r\n\r\nexport function isFunction(obj) { return type(obj, 'Function'); }\r\n\r\nexport function isObject(obj) { return type(obj, 'Object'); }\r\n\r\nexport function isEmptyObject(e) {\r\n    if (!isObject(e)) return false;\r\n\r\n    for (const t in e) {\r\n        return !1;\r\n    }\r\n\r\n    return !0;\r\n}\r\n\r\nexport function validateNumber(num) {\r\n    return !isNaN(Number(num));\r\n}\r\n\r\nexport function mixin(obj, sources) {\r\n    if (isObject(sources)) {\r\n        for (const key in sources) {\r\n            if (isObject(sources[key])) {\r\n                if (!isObject(obj[key])) {\r\n                    obj[key] = {};\r\n                }\r\n                mixin(obj[key], sources[key]);\r\n            } else {\r\n                obj[key] = sources[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\nexport function mixins(obj, sourcesArr) {\r\n    if (isArray(sourcesArr)) {\r\n        sourcesArr.forEach((source) => { mixin(obj, source); });\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\nexport function getObjectFromArray(arr, key, value) {\r\n    return arr.filter((i) => i[key] === value)[0];\r\n}\r\n\r\nexport function removeObjectFromArray(arr, key, value) {\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        if (arr[i][key] === value) {\r\n            return arr.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    return [];\r\n}\r\n\r\nexport function get(dom) {\r\n    return dom && typeof dom === 'string' ? document.getElementById(dom) : dom;\r\n}\r\n\r\nfunction _isDOM1(obj) {\r\n    return obj instanceof HTMLElement;\r\n}\r\n\r\nfunction _isDOM2(obj) {\r\n    return !!obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.nodeName === 'string';\r\n}\r\n\r\nexport const isDOM = (typeof HTMLElement === 'object') ? _isDOM1 : _isDOM2;\r\n\r\nexport function cloneJsonObject(obj) {\r\n    return isObject(obj) ? JSON.parse(JSON.stringify(obj)) : obj;\r\n}\r\n\r\nexport function merge(target, source) {\r\n    const copyObj = {},\r\n        copyFuns = {};\r\n\r\n    for (const key in target) {\r\n        if (!isFunction(target[key])) {\r\n            copyObj[key] = target[key];\r\n        } else {\r\n            copyFuns[key] = target[key];\r\n        }\r\n    }\r\n    /*eslint-disable */\r\n    const newObj = mixin(JSON.parse(JSON.stringify(copyObj)), source);\r\n    /*eslint-enable */\r\n    for (const key in copyFuns) {\r\n        newObj[key] = copyFuns[key];\r\n    }\r\n\r\n    return newObj;\r\n}\r\n\r\nexport function getPercentage(number, init) {\r\n    return legalNumber(number || init || 0, 0, 1) * 100;\r\n}\r\n\r\nexport function capitalize(str) {\r\n    return isString(str) ? (str.charAt(0).toUpperCase() + str.slice(1)) : str;\r\n};\r\n\r\nexport function reverseCamelcase(n) {\r\n    return n.replace(/[A-Z]/g, (l) => `-${l.toLowerCase()}`);\r\n}\r\n\r\nexport function camelize(target) {\r\n    if (!target || (target.indexOf('-') < 0 && target.indexOf('_') < 0)) {\r\n        return target;\r\n    }\r\n\r\n    return target.replace(/[-_][^-_]/g, (match) => match.charAt(1).toUpperCase());\r\n}\r\n\r\nexport function unique(array) {\r\n    const r = [];\r\n\r\n    for (let i = 0, l = array.length; i < l; i++) {\r\n        for (let j = i + 1; j < l; j++) {\r\n            if (array[i] === array[j]) j = ++i;\r\n        }\r\n        r.push(array[i]);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\nexport function firstUpperCase(str) {\r\n    return str.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\r\n}\r\n\r\nexport function isPercentage(num) {\r\n    return (isString(num) && num.indexOf('%') > 0) || (num >= -1 && num <= 1);\r\n}\r\n\r\nexport function translatePercentage(num) {\r\n\r\n    if (isString(num)) {\r\n        const index = num.indexOf('%');\r\n\r\n        if (index > 0) {\r\n            return Number(num.substring(0, index)) / 100;\r\n        }\r\n\r\n        if (validateNumber(num)) {\r\n            return Number(num);\r\n        }\r\n\r\n    }\r\n\r\n    return num;\r\n}\r\n\r\nexport function translateNumberToPercentage(num) {\r\n    return `${num * 100}%`;\r\n}\r\n\r\nexport function contain(arr, item) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i] === item) { return i; }\r\n    }\r\n\r\n    return -1;\r\n}\r\n\r\nexport function throttle(fn, time, context) {\r\n    let lock = null,\r\n        args = null;\r\n\r\n    function later() {\r\n        lock = false;\r\n        if (args) {\r\n            wrapperFn.apply(context, args);\r\n            args = false;\r\n        }\r\n    }\r\n\r\n    function wrapperFn() {\r\n        if (lock) {\r\n            args = arguments;\r\n        } else {\r\n            fn.apply(context, arguments);\r\n            setTimeout(later, time);\r\n            lock = true;\r\n        }\r\n    }\r\n\r\n    return wrapperFn;\r\n}\r\n\r\nexport function formatNum(num, digits) {\r\n    const pow = Math.pow(10, digits || 5);\r\n\r\n    return Math.round(num * pow) / pow;\r\n}\r\n\r\n// 56, 56%, 0, 1, 0.5\r\nexport function formatNumber(n) {\r\n    if (isNumber(n) && !isNaN(n)) {\r\n        return n;\r\n    }\r\n    if (isString(n)) {\r\n        if (validateNumber(n)) return Number(n);\r\n\r\n        return translatePercentage(n);\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nexport function getCssSize(size, scale) {\r\n    scale = scale || 1;\r\n    if (isString(size)) {\r\n        if (size.indexOf('%') > 0) {\r\n            return size;\r\n        }\r\n        if (size.indexOf('px') > 0) {\r\n            return `${getPureValue(size) * scale}px`;\r\n        }\r\n        if (validateNumber(size)) {\r\n            return `${Number(size) * scale}px`;\r\n        }\r\n    }\r\n    if (validateNumber(size)) {\r\n        return `${size * scale}px`;\r\n    }\r\n\r\n    return '0px';\r\n}\r\n\r\nexport function multiplyBy(n, m) {\r\n    n = formatNumber(n);\r\n    m = m || 1;\r\n    if (n === 0) return n;\r\n    if (n <= 1) {\r\n        return m * n;\r\n    }\r\n    if (n > 1) {\r\n        return n;\r\n    }\r\n\r\n    return n;\r\n}\r\n\r\nexport function getPureValue(val) {\r\n    if (isString(val) && val.indexOf('px') > 0) {\r\n        val = trim(val);\r\n\r\n        return Number(val.substring(0, val.indexOf('px')));\r\n    }\r\n\r\n    return val;\r\n}\r\n\r\nexport function formatMargin(margin, scale) {\r\n    scale = scale || 1;\r\n    if (!margin) {\r\n        margin = '0 0';\r\n    }\r\n    if (isString(margin)) {\r\n        const p = splitWords(margin).map((m) => getPureValue(m));\r\n\r\n        if (isArray(p)) {\r\n            if (p.length === 4) {\r\n                return {\r\n                    top: Number(p[0]) * scale,\r\n                    right: Number(p[1]) * scale,\r\n                    bottom: Number(p[2]) * scale,\r\n                    left: Number(p[3]) * scale,\r\n                };\r\n            }\r\n            if (p.length === 2) {\r\n                return {\r\n                    top: Number(p[0]) * scale,\r\n                    right: Number(p[1]) * scale,\r\n                    bottom: Number(p[0]) * scale,\r\n                    left: Number(p[1]) * scale,\r\n                };\r\n            }\r\n            if (p.length === 1) {\r\n                margin = Number(margin);\r\n            }\r\n        }\r\n    }\r\n    if (isNumber(margin) && margin >= 0) {\r\n        return {\r\n            top: margin * scale,\r\n            right: margin * scale,\r\n            bottom: margin * scale,\r\n            left: margin * scale,\r\n        };\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction _getScaleMargin(margin, scale) {\r\n    scale = scale || 1;\r\n    if (margin && isString(margin)) {\r\n        if (margin.indexOf('%') > 0) {\r\n            return `${translatePercentage(margin) * 100}%`;\r\n        }\r\n        if (margin.indexOf('px') > 0) {\r\n            return `${Number(getPureValue(margin)) * scale}px`;\r\n        }\r\n    }\r\n    if (validateNumber(margin)) {\r\n        return `${Number(margin) * scale}px`;\r\n    }\r\n\r\n    return '0px';\r\n}\r\n\r\nexport function formatMargin2(margin, scale) {\r\n    if (!margin) {\r\n        margin = '0 0';\r\n    }\r\n    scale = scale || 1;\r\n    if (validateNumber(margin)) {\r\n        margin = String(margin);\r\n    }\r\n    let p = [];\r\n\r\n    if (isString(margin)) {\r\n        p = splitWords(margin);\r\n\r\n        if (p.length === 2) {\r\n            p = p.concat([p[0], p[1]]);\r\n        }\r\n        if (p.length === 3) {\r\n            p.push(p[2]);\r\n        }\r\n        if (p.length === 1) {\r\n            p = p.concat([p[0], p[0], p[0]]);\r\n        }\r\n    }\r\n\r\n    return p.length === 4 ? {\r\n        top: _getScaleMargin(p[0], scale),\r\n        right: _getScaleMargin(p[1], scale),\r\n        bottom: _getScaleMargin(p[2], scale),\r\n        left: _getScaleMargin(p[3], scale),\r\n    } : null;\r\n}\r\n","const NM = 'popo';\r\n\r\n/**\r\n * Enum for system constant\r\n * @enum\r\n * @readonly\r\n */\r\nexport default {\r\n\r\n    /**\r\n     * @const\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    MIN_LY_COUNT: 1,\r\n\r\n    /**\r\n     * Grids system column count\r\n     * @const\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    COLS: 24,\r\n\r\n    /**\r\n     * Grids system row count\r\n     * @const\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    ROWS: 12,\r\n\r\n    /**\r\n     * Panel default zIndex\r\n     * @const\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    PANEL_DEFAULT_ZINDEX: 1,\r\n\r\n    NAME: NM,\r\n\r\n    POPO: `data-${NM}`,\r\n\r\n    ROLE: `data-${NM}-role`,\r\n\r\n    TARGET: `data-${NM}-target`,\r\n\r\n    COMPONENT_ID_KEY: `data-${NM}-id`,\r\n\r\n    EXT_PANE: `${NM}-ext-pane`,\r\n\r\n    PANE: `pane`,\r\n\r\n    CONTAINER: `container`,\r\n\r\n    PANEL: `panel`,\r\n\r\n    PANEL_CONTAINER: `panel-container`,\r\n\r\n    WRAP: `wrap`,\r\n\r\n    GRID_L_C_R: 'lcr',\r\n\r\n    GRID_HEAD: `head`,\r\n\r\n    GRID_CENTER: `center`,\r\n\r\n    GRID_LEFT: `left`,\r\n\r\n    GRID_RIGHT: `right`,\r\n\r\n    GRID_FOOT: `foot`,\r\n\r\n    SINGLE_ROW: `${NM}-s-row`,\r\n\r\n    ROW: `${NM}-row`,\r\n\r\n    COL: `${NM}-col`,\r\n\r\n    INFO: `${NM}-dev-info`,\r\n\r\n    GUIDELINES: `${NM}-guideline`,\r\n\r\n    PANEL_GUIDELINES: `${NM}-panel-guideline`,\r\n\r\n    SPLITLINES: `${NM}-splitline`,\r\n\r\n    ZOOMPANE: `zoom-pane`,\r\n\r\n    ZOOMCONTAINER: `zoom-container`,\r\n\r\n    ATTRIBUTTION: `${NM}-attribution`,\r\n\r\n    ZOOMIN: `${NM}-ct-zoom-in`,\r\n\r\n    ZOOMOUT: `${NM}-ct-zoom-out`,\r\n\r\n    ZOOMINFO: `${NM}-ct-zoom-info`,\r\n\r\n    TPL: `data-${NM}-tpl`,\r\n\r\n    DRAW_ID_KEY: `${NM}-ts`,\r\n\r\n    LINE: 'l',\r\n\r\n    PATH: 'p',\r\n\r\n    CIRCLE: 'c',\r\n\r\n    FILTER: 'f',\r\n\r\n    MARKER: 'm',\r\n\r\n    LINER_GRADIENT: 'lg',\r\n\r\n    RADIAL_GRADIENT: 'rg',\r\n\r\n    BORDER: 'b',\r\n\r\n    EVENT: `_${NM}_event`,\r\n\r\n};\r\n","import {\r\n    isString, isDOM, isObject, splitWords, bind, trim, isFunction,\r\n    validateNumber, isEmptyObject, camelize, reverseCamelcase,\r\n} from '../utils/util';\r\nimport CT from '../constant/constant';\r\n\r\nexport function testProp(props) {\r\n    const style = document.documentElement.style;\r\n\r\n    for (let i = 0; i < props.length; i++) {\r\n        if (props[i] in style) {\r\n            return props[i];\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/*eslint-disable */\r\nexport const TRANSFORM = testProp(['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\r\n\r\nexport const TRANSITION = testProp(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\r\n\r\nexport const TRANSITION_END = (TRANSITION === 'webkitTransition') || (TRANSITION === 'OTransition')\r\n    ? TRANSITION + 'End' : 'transitionend';\r\n\r\n/*eslint-enable */\r\n\r\nexport function getClass(el) {\r\n    if (!isDOM(el)) return null;\r\n\r\n    return el.className.baseVal === undefined ? el.className : el.className.baseVal;\r\n}\r\n\r\nexport function hasClass(el, name) {\r\n    if (!isDOM(el) && !name) return false;\r\n    if (el.classList !== undefined) {\r\n        return el.classList.contains(name);\r\n    }\r\n    const className = getClass(el);\r\n\r\n    /*eslint-disable */\r\n    return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\r\n    /*eslint-enable */\r\n}\r\n\r\nexport function setClass(el, name) {\r\n    if (el.className.baseVal === undefined) {\r\n        el.className = name;\r\n    } else {\r\n        el.className.baseVal = name;\r\n    }\r\n}\r\n\r\nexport function addClass(el, name) {\r\n    if (!isDOM(el) || !name) return;\r\n    if (el.classList !== undefined) {\r\n        const classes = splitWords(name);\r\n\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            el.classList.add(classes[i]);\r\n        }\r\n    } else if (!hasClass(el, name)) {\r\n        const className = getClass(el);\r\n\r\n        setClass(el, (className ? `${className} ` : '') + name);\r\n    }\r\n}\r\n\r\nexport function removeClass(el, names) {\r\n    if (!isDOM(el) || !names) return;\r\n    names = splitWords(names);\r\n    names.forEach((name) => {\r\n        if (el.classList !== undefined) {\r\n            el.classList.remove(name);\r\n        } else {\r\n            const cls = getClass(el);\r\n\r\n            setClass(el, trim((` ${cls} `).replace(` ${name} `, ' ')));\r\n        }\r\n    });\r\n}\r\n\r\nexport function setStyle(dom, styles, addOn) {\r\n    if (!isDOM(dom) || isEmptyObject(styles)) return;\r\n    for (const key in styles) {\r\n        let _key = key;\r\n\r\n        if (addOn && _key) {\r\n            _key = camelize(_key);\r\n            _key = testProp([_key, `webkit${_key}`, `moz${_key}`, `ms${_key}`, `o${_key}`]);\r\n        }\r\n        if (_key && styles[_key] !== null && styles[_key] !== undefined) {\r\n            dom.style[_key] = styles[_key];\r\n        }\r\n    }\r\n}\r\n\r\nexport function css(el, styles) {\r\n\r\n    if (isDOM(el) && styles) {\r\n        if (isString(styles)) {\r\n            return getStyle(el, reverseCamelcase(styles));\r\n        }\r\n        if (!isEmptyObject(styles)) {\r\n            setStyle(el, styles, true);\r\n\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nexport function create(tag, classnames, styles, container) {\r\n    const el = document.createElement(tag || 'div');\r\n\r\n    if (classnames) {\r\n        addClass(el, classnames);\r\n    }\r\n    if (isObject(styles)) {\r\n        css(el, styles);\r\n    }\r\n    if (isDOM(container)) {\r\n        container.appendChild(el);\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\nexport function html(el, html) {\r\n    if (isDOM(el)) {\r\n        if (isString(html)) {\r\n            el.innerHTML = html;\r\n        }\r\n        if (html && isDOM(html)) {\r\n            el.appendChild(html);\r\n        }\r\n        if (html === undefined) {\r\n            return el.innerHTML;\r\n        }\r\n    }\r\n}\r\n\r\nexport function isHidden(el) {\r\n    return isDOM(el) && getStyle(el, 'display') === 'none';\r\n}\r\n\r\nfunction addHStyle(css) {\r\n    if (!isString(css)) return;\r\n    const head = document.querySelector('head');\r\n\r\n    if (head) {\r\n        const oldStyle = head.querySelector('style');\r\n\r\n        if (oldStyle) {\r\n            oldStyle.innerHTML += css;\r\n        } else {\r\n            const style = document.createElement('style'),\r\n                node = document.querySelector('link');\r\n\r\n            style.type = 'text/css';\r\n            style.innerHTML = css;\r\n\r\n            if (node) {\r\n                head.insertBefore(style, node);\r\n            } else {\r\n                head.appendChild(style);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeByClass(classname, container) {\r\n    Array.prototype.forEach.call((container || document).querySelectorAll(`.${classname}`), (el) => {\r\n        if (isDOM(el)) el.parentNode.removeChild(el);\r\n    });\r\n}\r\n\r\nexport function removeByRole(attr, container) {\r\n    Array.prototype.forEach.call((container || document).querySelectorAll(`[${CT.ROLE}=\"${attr}\"]`), (el) => {\r\n        if (isDOM(el)) el.parentNode.removeChild(el);\r\n    });\r\n}\r\n\r\nexport function query(el, filter) {\r\n    return isDOM(el) && filter && el.querySelector(filter);\r\n}\r\n\r\nexport function eachChild(parent, fn, context) {\r\n    if (isDOM(parent)) {\r\n        fn = bind(fn, context);\r\n        Array.prototype.forEach.call(parent.childNodes, (node) => {\r\n            if (isFunction(fn) && fn(node) === false) {\r\n                return;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function attr(el, name, value) {\r\n    if (isDOM(el)) {\r\n        if (name !== undefined) {\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nexport function getStyle(dom, key) {\r\n    if (dom && isDOM(dom)) {\r\n        if (dom.currentStyle) {\r\n            return dom.currentStyle[key];\r\n        } else if (window.getComputedStyle) {\r\n            return window.getComputedStyle(dom, null)[key];\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getPureStyle(dom, key) {\r\n    if (dom) {\r\n        const style = getStyle(dom, key);\r\n\r\n        if (isString(style)) {\r\n            if (style.indexOf('px') > 0) {\r\n                return Number(style.substring(0, style.length - 2));\r\n            }\r\n            if (validateNumber(style)) {\r\n                return Number(style);\r\n            }\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nexport function getRect(el) {\r\n    return isDOM(el) ? el.getBoundingClientRect() : null;\r\n}\r\n\r\nexport function getTargetDataId(el) {\r\n    if (isDOM(el)) {\r\n        const id = el.getAttribute(CT.COMPONENT_ID_KEY);\r\n\r\n        if (Number(id) > 0) {\r\n            return id;\r\n        }\r\n    }\r\n    if (isObject(el)) {\r\n        if (el.getId) {\r\n            return el.getId();\r\n        }\r\n        if (el.id) {\r\n            return el.id;\r\n        }\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\n/*eslint-disable */\r\nexport function createPublicStyle() {\r\n    const css\r\n        = `\\/* PoPo Public Style *\\/\r\n    div[${CT.POPO}] {display:none}\r\n    div[${CT.ROLE}], div[${CT.ROLE}]:after,div[${CT.ROLE}]:before{box-sizing: border-box;}\r\n    div[data-popo-role=${CT.PANE}]{transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;}\r\n    div[data-popo-role=${CT.GRID_L_C_R}]{zoom:1;position:relative;}\r\n    div[data-popo-role=${CT.GRID_L_C_R}]:after{content:'';display:block;clear:both;height:0;}\r\n    div[data-popo-role=${CT.GRID_LEFT}],div[data-popo-role=${CT.GRID_CENTER}],div[data-popo-role=${CT.GRID_RIGHT}]{float:left;position:relative;}\r\n    div[data-popo-role=${CT.GRID_FOOT}],div[data-popo-role=${CT.GRID_HEAD}] {position:relative;}\r\n    .${CT.INFO}, .${CT.EXT_PANE}{position:absolute;z-index:100;box-sizing:border-box;}\r\n    .${CT.EXT_PANE} *{box-sizing:border-box;}\r\n    .${CT.EXT_PANE}{border:2px solid rgba(0,0,0,0.2);border-radius: 2px;overflow:hidden;}\r\n    .${CT.EXT_PANE} a, .${CT.EXT_PANE} span{font: bold 18px 'Lucida Console', Monaco, monospace;width:30px;height:30px;text-align:center;display:block;border-bottom:1px solid #bbb;line-height:30px;color:#333;background-color:#ffffff;text-decoration:none;outline:none;}\r\n    .${CT.EXT_PANE} a:hover{background-color:#f2f2f2;}\r\n    .${CT.EXT_PANE} span{font-size:11px;}\r\n    `;\r\n\r\n    addHStyle(css);\r\n}\r\n/*eslint-enable */\r\n\r\ncreatePublicStyle();\r\n","const ua = navigator.userAgent.toLowerCase(),\r\n    doc = document.documentElement,\r\n    width = window.innerWidth || doc.clientWidth || document.body.clientWidth,\r\n    height = window.innerHeight || doc.clientHeight || document.body.clientHeight,\r\n    ie = 'ActiveXObject' in window,\r\n    webkit = ua.indexOf('webkit') !== -1,\r\n    mobile = typeof orientation !== 'undefined' || ua.indexOf('mobile') !== -1;\r\n\r\nexport default {\r\n\r\n    ie,\r\n\r\n    width,\r\n\r\n    height,\r\n\r\n    aspectRatio: width / height,\r\n\r\n    webkit,\r\n\r\n    mobile,\r\n\r\n};\r\n","import { stamp, splitWords } from '../utils/util';\r\nimport CT from '../constant/constant';\r\nimport Browser from '../utils/browser';\r\n\r\n/*eslint-disable*/\r\nconst eventsKey = CT.EVENT,\r\n    wheelPxFactor = (Browser.win && Browser.chrome) ? (2 * window.devicePixelRatio)\r\n        : (Browser.gecko ? window.devicePixelRatio : 1);\r\n/*eslint-enable*/\r\n\r\nfunction addOne(obj, type, fn, context) {\r\n    if (!obj) return null;\r\n    function handler(e) {\r\n        return fn.call(context || obj, e || window.event);\r\n    }\r\n\r\n    const id = type + stamp(fn) + (context ? `{_${stamp(context)}}` : '');\r\n\r\n    if (obj[eventsKey] && obj[eventsKey][id]) {\r\n        return this;\r\n    }\r\n\r\n    if ('addEventListener' in obj) {\r\n        obj.addEventListener(type, handler, false);\r\n    } else if ('attachEvent' in obj) {\r\n        obj.attachEvent(`on{$type}`, handler);\r\n    }\r\n\r\n    obj[eventsKey] = obj[eventsKey] || {};\r\n    obj[eventsKey][id] = handler;\r\n\r\n    return null;\r\n}\r\n\r\nfunction removeOne(obj, type, fn, context) {\r\n    if (!obj) return null;\r\n    const id = type + stamp(fn) + (context ? `{_${stamp(context)}}` : ''),\r\n        handler = obj[eventsKey] && obj[eventsKey][id];\r\n\r\n    if (!handler) {\r\n        return this;\r\n    }\r\n\r\n    if ('removeEventListener' in obj) {\r\n        obj.removeEventListener(type, handler, false);\r\n    } else if ('detachEvent' in obj) {\r\n        obj.detachEvent(`on${type}`, handler);\r\n    }\r\n    obj[eventsKey][id] = null;\r\n\r\n    return null;\r\n}\r\n\r\nexport function stopPropagation(e) {\r\n    if (e.stopPropagation) {\r\n        e.stopPropagation();\r\n    } else if (e.originalEvent) {\r\n        e.originalEvent._stopped = true;\r\n    } else {\r\n        e.cancelBubble = true;\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport function preventDefault(e) {\r\n    if (e.preventDefault) {\r\n        e.preventDefault();\r\n    } else {\r\n        e.returnValue = false;\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport function stop(e) {\r\n    preventDefault(e);\r\n    stopPropagation(e);\r\n\r\n    return this;\r\n}\r\n\r\nexport function on(obj, types, fn, context) {\r\n    if (obj && types) {\r\n        types = splitWords(types);\r\n        for (let i = 0, len = types.length; i < len; i++) {\r\n            addOne(obj, types[i], fn, context);\r\n        }\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport function off(obj, types, fn, context) {\r\n    if (obj) {\r\n        if (types) {\r\n            types = splitWords(types);\r\n            for (let i = 0, len = types.length; i < len; i++) {\r\n                removeOne(obj, types[i], fn, context);\r\n            }\r\n        } else {\r\n            for (const j in obj[eventsKey]) {\r\n                removeOne(obj, j, obj[eventsKey][j]);\r\n            }\r\n            delete obj[eventsKey];\r\n        }\r\n    }\r\n}\r\n\r\n/*eslint-disable */\r\nexport function getWheelDelta(e) {\r\n    return (Browser.edge) ? e.wheelDeltaY / 2 // Don't trust window-geometry-based delta\r\n        : (e.deltaY && e.deltaMode === 0) ? -e.deltaY / wheelPxFactor // Pixels\r\n            : (e.deltaY && e.deltaMode === 1) ? -e.deltaY * 20 // Lines\r\n                : (e.deltaY && e.deltaMode === 2) ? -e.deltaY * 60 // Pages\r\n                    : (e.deltaX || e.deltaZ) ? 0\r\n                        : e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 // Legacy IE pixels\r\n                            : (e.detail && Math.abs(e.detail) < 32765) ? -e.detail * 20 // Legacy Moz lines\r\n                                : e.detail ? e.detail / -32765 * 60 // Legacy Moz pages\r\n                                    : 0;\r\n}\r\n/*eslint-enable */\r\n","export default {\r\n\r\n    POPO_EXSIT: 'The target container has been initialized by popo.',\r\n\r\n    CONTAINER_ERR: 'The target container was not found',\r\n\r\n    LY_INVALID: 'Layout array is invalid.',\r\n\r\n    LY_FIXED_LESS: 'Fixed height and fixed width shall not be less than 1 at the same time.',\r\n\r\n};\r\n","import {\r\n    isNumber, isString, isDOM, isObject, contain, isEmptyObject, getObjectFromArray,\r\n    removeObjectFromArray, stamp, splitWords, mixin, formatNum, unique,\r\n} from '../../utils/util';\r\nimport { css, attr } from '../dom';\r\nimport CT from '../../constant/constant';\r\n\r\n/**\r\n * @class VNode\r\n * @ignore\r\n */\r\nexport default class VNode {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {String} nodeName node TagName\r\n     */\r\n    constructor(nodeName) {\r\n        this.nodeName = nodeName || 'div';\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.classNames = '';\r\n        this.children = [];\r\n        this.styles = {};\r\n        this.parentNode = null;\r\n        this.html = '';\r\n        this.role = '';\r\n        this.isExtend = false;\r\n        stamp(this);\r\n    }\r\n\r\n    /**\r\n     * Add class\r\n     * @param {String} name classname\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    addClassName(name) {\r\n        if (isString(name)) {\r\n            if (this.classNames === '') {\r\n                this.classNames = name;\r\n\r\n                return this;\r\n            }\r\n            const cns = splitWords(this.classNames);\r\n\r\n            splitWords(name).forEach((n) => {\r\n                const inner = contain(cns, n);\r\n\r\n                if (inner < 0) {\r\n                    this.classNames += ` ${n}`;\r\n                }\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * remove class name\r\n     * @param {String} name classname\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    removeClassName(name) {\r\n        if (isString(name)) {\r\n            const cns = splitWords(this.classNames),\r\n                inner = contain(cns, name);\r\n\r\n            if (inner >= 0) {\r\n                cns[inner] = '';\r\n                this.classNames = cns.join(' ');\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clear node class\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    clearClassName() {\r\n        this.classNames = '';\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clear current class and set new class\r\n     * @param {String} classname classname\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setClassName(classname) {\r\n        if (classname && isString(classname)) {\r\n            this.classNames = classname;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get child\r\n     * @param {Number|String} id id\r\n     * @return {VNode} vnode\r\n     */\r\n    getChild(id) {\r\n        if (!isNumber(id)) {\r\n            id = Number(id);\r\n        }\r\n        if (!isNaN(id) && id > 0) {\r\n            return getObjectFromArray(this.children, CT.COMPONENT_ID_KEY, id);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Set node role\r\n     * @param {String} role node role.\r\n     * @return {VNode} vnode\r\n     */\r\n    setRole(role) {\r\n        this.role = role;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get node role\r\n     * @return {String} role\r\n     */\r\n    getRole() {\r\n        return this.role;\r\n    }\r\n\r\n    /**\r\n     * Query child by role\r\n     * @param {String} role node role\r\n     * @return {VNode} node\r\n     */\r\n    queryByRole(role) {\r\n        let result = null;\r\n\r\n        function _query(vnode) {\r\n            if (vnode && vnode.children.length > 0) {\r\n                vnode.children.forEach((node) => {\r\n                    if (node.role === role) {\r\n                        result = node;\r\n\r\n                        return;\r\n                    }\r\n                    _query(node);\r\n                });\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        return _query(this);\r\n    }\r\n\r\n    /**\r\n     * Set node id\r\n     * @param {String} id id\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setId(id) {\r\n        this[CT.COMPONENT_ID_KEY] = id;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get vnode id\r\n     * @return {Number} id\r\n     */\r\n    getId() {\r\n        return this[CT.COMPONENT_ID_KEY];\r\n    }\r\n\r\n    /**\r\n     * Set width\r\n     * @param {Number} width width\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setWidth(width) {\r\n        this.width = width;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set Height\r\n     * @param {Number} height height\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setHeight(height) {\r\n        this.height = height;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get node width\r\n     * @return {Number} width\r\n     */\r\n    getWidth() {\r\n        return this.width;\r\n    }\r\n\r\n    /**\r\n     * Get node height\r\n     * @return {Number} height\r\n     */\r\n    getHeight() {\r\n        return this.height;\r\n    }\r\n\r\n    /**\r\n     * Set margin\r\n     * @param {Number} margin margin\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setMargin(margin) {\r\n        this.margin = margin;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get margin\r\n     * @return {Number} margin\r\n     */\r\n    getMargin() {\r\n        return this.margin;\r\n    }\r\n\r\n    /**\r\n     * Get px size\r\n     * @ignore\r\n     * @param {Number|String} size size\r\n     * @return {String} size\r\n     */\r\n    _getSize(size) {\r\n        return isNumber(size) ? `${formatNum(size, 5)}px` : size;\r\n    }\r\n\r\n    /**\r\n     * Set styles\r\n     * @param {Object} styles styles\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setStyle(styles) {\r\n        mixin(this.styles, styles);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set top\r\n     * @param {Number} top top\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setTop(top) {\r\n        this.top = top;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get top\r\n     * @return {Number} top\r\n     */\r\n    getTop() {\r\n        return this.top;\r\n    }\r\n\r\n    /**\r\n     * Set left\r\n     * @param {Number} left left\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setLeft(left) {\r\n        this.left = left;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get left\r\n     * @return {Number} left\r\n     */\r\n    getLeft() {\r\n        return this.left;\r\n    }\r\n\r\n    /**\r\n     * Insert to parent vnode\r\n     * @param {VNode} parent parent vnode\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    insertTo(parent) {\r\n        if (parent && parent.children) {\r\n            parent.children.push(this);\r\n            this.parentNode = parent;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add child vnode\r\n     * @param {VNode} son child vnode\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    addNode(son) {\r\n        if (son) {\r\n            this.children.push(son);\r\n            son.parentNode = this;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove child\r\n     * @param {VNode} node child vnode\r\n     */\r\n    removeNode(node) {\r\n        if (isObject(node)) {\r\n            if (node && node._popo_id && this.children.length > 0) {\r\n                removeObjectFromArray(this.children, '_popo_id', node._popo_id);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove All Child\r\n     */\r\n    clear() {\r\n        if (this.children && this.children.length > 0) {\r\n            this.children.forEach((node) => {\r\n                node.remove();\r\n            });\r\n            this.children = [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove instance\r\n     */\r\n    remove() {\r\n        const that = this;\r\n\r\n        if (this.parentNode) {\r\n            this.parentNode.removeNode(that);\r\n        }\r\n        if (isDOM(this.realDom)) {\r\n            this.realDom.parentNode.removeChild(this.realDom);\r\n            this.realDom = null;\r\n        }\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.top = 0;\r\n        this.left = 0;\r\n        this.classNames = '';\r\n        this.styles = {};\r\n        if (this.children && this.children.length > 0) {\r\n            this.children.forEach((node) => {\r\n                node.remove();\r\n            });\r\n            this.children = [];\r\n        }\r\n        this.parentNode = null;\r\n    }\r\n\r\n    /**\r\n     * Render current vnode\r\n     * @param {HTMLElement} node node\r\n     * @return {HTMLElement} node\r\n     */\r\n    render(node) {\r\n        if (!node) return node;\r\n\r\n        const realDomClass = attr(node, 'class'),\r\n            cls = realDomClass ? unique(splitWords(realDomClass)\r\n                .concat(splitWords(this.classNames))).join(' ') : this.classNames;\r\n\r\n        if (cls) {\r\n            attr(node, 'class', cls);\r\n        }\r\n\r\n        const w = this.width,\r\n            h = this.height;\r\n\r\n        // if (this.styles.width === undefined || this.styles.width === null) {\r\n        this.setStyle({\r\n            width: w ? this._getSize(w) : '100%',\r\n            height: h ? this._getSize(h) : '100%',\r\n        });\r\n        // }\r\n\r\n        // if (this.styles.height === undefined || this.styles.height === null) {\r\n        // this.setStyle({\r\n        //     height: h ? this._getSize(h) : '100%',\r\n        // });\r\n        // }\r\n\r\n        if (this.top !== undefined) {\r\n            this.setStyle({ top: this._getSize(this.top) });\r\n        }\r\n\r\n        if (this.left !== undefined) {\r\n            this.setStyle({ left: this._getSize(this.left) });\r\n        }\r\n\r\n        if (this.margin !== undefined) {\r\n            this.setStyle({ margin: this._getSize(this.margin) });\r\n        }\r\n\r\n        if (!isEmptyObject(this.styles)) {\r\n            css(node, this.styles);\r\n        }\r\n\r\n        if (this[CT.COMPONENT_ID_KEY]) {\r\n            attr(node, CT.COMPONENT_ID_KEY, this[CT.COMPONENT_ID_KEY]);\r\n        }\r\n\r\n        if (this.role) {\r\n            attr(node, 'data-popo-role', this.role);\r\n        }\r\n\r\n        if (this.id) {\r\n            node.id = this.id;\r\n        }\r\n\r\n        if (this.html) {\r\n            node.innerHTML = this.html;\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * Set node innerHTML\r\n     * @param {String} html html\r\n     * @return {VNode} current vnode instance\r\n     */\r\n    setHtml(html) {\r\n        if (html && isString(html)) {\r\n            this.html = html;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update vnode\r\n     */\r\n    update() {\r\n        const realDom = this.realDom;\r\n\r\n        if (realDom) {\r\n            this.render(realDom);\r\n            this.children.forEach((vnode) => { vnode.update(); });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create Html element\r\n     * @return {HTMLElement} node\r\n     */\r\n    createElement() {\r\n        const node = this.realDom || document.createElement(this.nodeName);\r\n\r\n        /*eslint-disable */\r\n        node._popo_id = this._popo_id;\r\n        /*eslint-enable */\r\n\r\n        this.render(node);\r\n        this.children.forEach((c) => {\r\n            node.appendChild(c.createElement());\r\n        });\r\n\r\n        this.realDom = node;\r\n        node.vnode = this;\r\n\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * Get last child\r\n     * @return {Vnode} vnode\r\n     */\r\n    getLastChild() {\r\n        const c = this.children,\r\n            len = c.length;\r\n\r\n        return len > 0 ? c[len - 1] : c[0];\r\n    }\r\n\r\n    /**\r\n     * Get new Id\r\n     * @return {Number} id\r\n     */\r\n    getNewId() {\r\n        const lastChild = this.getLastChild();\r\n\r\n        return lastChild ? lastChild.getId() + 1 : 1;\r\n    }\r\n}\r\n","import {\r\n    isNumber, isArray, legalNumber, trim, isObject, isString, formatNum,\r\n} from '../../utils/util';\r\nimport { getRect } from '../../dom/dom';\r\nimport CT from '../../constant/constant';\r\nimport ERROR_MSG from '../../constant/error';\r\nimport Vnode from '../../dom/vdom/vnode';\r\n\r\nfunction sumArrFirst(arr) {\r\n    let sum = 0;\r\n\r\n    if (isArray(arr)) {\r\n        arr.forEach((a) => {\r\n            if (isNumber(a)) {\r\n                sum += a;\r\n            }\r\n            if (isArray(a) && isNumber(a[0])) {\r\n                sum += a[0];\r\n            }\r\n        });\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nfunction sumItem(o) {\r\n    const sum = sumArr(o);\r\n\r\n    return sum <= 0 ? sumArrFirst(o) : sum;\r\n}\r\n\r\nfunction sumArr(arr) {\r\n    let sum = 0;\r\n\r\n    if (isArray(arr)) {\r\n        for (let i = 0, len = arr.length; i < len; i++) {\r\n            if (isNumber(arr[i])) {\r\n                sum += arr[i];\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nexport function validateAllLy(ly, rows, cols, startType) {\r\n    let great = true;\r\n    const firstCount = startType === 'row' ? rows : cols;\r\n\r\n    function validateCore(arr, type) {\r\n        // const count = type == 'row' ? (startType === 'row' ? cols : rows) : (startType === 'row' ? rows : cols);\r\n        const count = type === 'row' ? cols : rows;\r\n\r\n        if (!isArray(arr) && !isArray(arr[1])) return;\r\n        if (sumItem(arr[1]) > count) {\r\n            great = false;\r\n        }\r\n        if (isArray(arr[1])) {\r\n            arr[1].forEach((a) => {\r\n                if (isArray(a)) {\r\n                    validateCore(a, type === 'row' ? 'col' : 'row');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    if (sumArrFirst(ly) > firstCount) {\r\n        great = false;\r\n    } else {\r\n        for (let i = 0, len = ly.length; i < len; i++) {\r\n            validateCore(ly[i], startType);\r\n        }\r\n    }\r\n\r\n    return great;\r\n}\r\n\r\nexport function initSize(rows, cols) {\r\n    if (!rows || !cols) return null;\r\n    const unitRow = (100 / rows),\r\n        unitCol = 100 / cols,\r\n        sizes = {};\r\n\r\n    for (let i = 1; i <= rows; i++) {\r\n        sizes[`${CT.SINGLE_ROW}-${i}`] = (unitRow * i).toFixed(5);\r\n    }\r\n    for (let i = 1; i <= cols; i++) {\r\n        sizes[`${CT.COL}-${i}`] = (unitCol * i).toFixed(5);\r\n    }\r\n\r\n    return sizes;\r\n}\r\n\r\n/**\r\n * Validate layout number\r\n * @param {Number} num number\r\n * @param {Number} end end\r\n * @param {Number} cols cols\r\n * @param {Number} rows rows\r\n * @return {Boolean} validate result\r\n */\r\nfunction validateLayoutNumber(num, end, cols, rows) {\r\n    return isNumber(num) && num >= 1 && num <= (end || Math.max(cols, rows));\r\n}\r\n\r\n/**\r\n * Get layout wrap count\r\n * @param {Array} layouts layout\r\n * @param {Number} cols cols\r\n * @param {Number} rows rows\r\n * @return {Number} layout wrap count\r\n */\r\nexport function getLayoutWrapCount(layouts, cols, rows) {\r\n    let count = 0;\r\n\r\n    for (let i = 0, len = layouts.length; i < len; i++) {\r\n        const start = layouts[i][0];\r\n\r\n        if (!validateLayoutNumber(start, null, cols, rows)) {\r\n            return 0;\r\n        }\r\n        count += start;\r\n    }\r\n\r\n    return count;\r\n}\r\n\r\n/**\r\n * Validate layout.\r\n * @param {Array} layouts layout array\r\n * @param {Number} cols column count\r\n * @param {Number} rows row count\r\n * @return {Boolean} valite layout result\r\n */\r\nexport function validateLayout(layouts, cols, rows) {\r\n    if (!layouts || !layouts.length) return false;\r\n    const count = getLayoutWrapCount(layouts, cols, rows);\r\n\r\n    if (!count) {\r\n        throw new Error(ERROR_MSG.LY_INVALID);\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport function getRowClassName(row, rows) {\r\n    return row < 0 ? `${CT.SINGLE_ROW}-${rows}` : `${CT.SINGLE_ROW}-${row}`;\r\n}\r\n\r\n/*eslint-disable */\r\nexport function getColClassName(col, hasRow) {\r\n    return col < 0 ? (hasRow ? ` ${CT.ROW}` : '') : (`${CT.COL}-${col}${(hasRow ? ` ${CT.ROW}` : '')}`);\r\n}\r\n/*eslint-enable*/\r\n\r\nexport function generateEvLy(rows, cols, rowNumber, colNumber) {\r\n    rowNumber = Math.floor(rows / legalNumber(rowNumber, 1, rows)) || 1;\r\n    colNumber = Math.floor(cols / legalNumber(colNumber, 1, cols)) || 1;\r\n\r\n    const result = new Array(Math.floor(rows / rowNumber)),\r\n        colsLength = Math.floor(cols / colNumber);\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n        result[i] = [rowNumber, []];\r\n        for (let j = 0; j < colsLength; j++) {\r\n            result[i][1].push(colNumber);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function newVNode(parent, classNames, setId, type) {\r\n    const node = new Vnode().addClassName(classNames).insertTo(parent);\r\n\r\n    node.type = type;\r\n\r\n    if (setId) {\r\n        node.setRole(CT.PANEL);\r\n        // .addClassName(CT.PANEL);\r\n    }\r\n\r\n    return node;\r\n}\r\n\r\nexport function removeUnused(vc, panels) {\r\n    function selectPanel(vnode) {\r\n        const nodes = vnode.children;\r\n\r\n        nodes.forEach((node) => {\r\n            if (node.role === CT.PANEL) {\r\n                panels.push(node);\r\n                node.setId(panels.length);\r\n            }\r\n            if (node.children.length > 0) {\r\n                selectPanel(node);\r\n            }\r\n        });\r\n    }\r\n\r\n    selectPanel(vc);\r\n}\r\n\r\nexport function newLy(layout, type, vc, rows, cols) {\r\n    type = type || 'row';\r\n    const parent = layout[0],\r\n        childrens = layout[1];\r\n\r\n    let vparentNode = null,\r\n        classname = '';\r\n\r\n    if (validateLayoutNumber(parent, null, cols, rows)) {\r\n        classname = type === 'col' ? getColClassName(parent, true) : getRowClassName(parent, rows);\r\n        vparentNode = newVNode(vc, classname, false, type === 'col' ? 'col' : 'row', parent);\r\n    }\r\n    if (!vparentNode) return;\r\n\r\n    if (validateLayoutNumber(childrens, null, cols, rows)) {\r\n        newVNode(vparentNode, classname, true, type);\r\n    } else if (isArray(childrens)) {\r\n        childrens.forEach((c) => {\r\n            if (validateLayoutNumber(c, null, cols, rows)) {\r\n                classname = type === 'col' ? getRowClassName(c, rows) : getColClassName(c, true);\r\n                newVNode(vparentNode, classname, true, type === 'col' ? 'row' : 'col', c);\r\n            } else if (isArray(c)) {\r\n                newLy(c, type === 'col' ? 'row' : 'col', vparentNode, rows, cols);\r\n            }\r\n        });\r\n    } else if (!childrens) {\r\n        classname = type === 'col' ? getColClassName(-1, true) : getRowClassName(-1, rows);\r\n        newVNode(vparentNode, classname, true, type === 'col' ? 'row' : 'col', -1);\r\n    }\r\n}\r\n\r\nexport function updateVnodeSize(vc, sizes, options, container) {\r\n    if (!vc || !sizes || !options) return;\r\n\r\n    const keys = Object.keys(sizes).join(','),\r\n        gutter = options.gutter,\r\n        freeLy = options.freeLy;\r\n\r\n    let fixedHeight = options.fixedHeight || 0,\r\n        fixedWidth = options.fixedWidth || 0;\r\n\r\n    if (fixedHeight > 0) {\r\n        fixedHeight = legalNumber(fixedHeight, 0.01);\r\n    }\r\n    if (fixedWidth > 0) {\r\n        fixedWidth = legalNumber(fixedWidth, 0.01);\r\n    }\r\n\r\n    function setSize(vnode) {\r\n        const nodes = vnode.children;\r\n\r\n        nodes.forEach((node) => {\r\n            node.classNames.split(' ').forEach((cls) => {\r\n                cls = trim(cls);\r\n                if (keys.indexOf(cls) >= 0) {\r\n                    if (cls.indexOf('-col-') >= 0) {\r\n                        node.setWidth(sizes[cls]);\r\n\r\n                        return;\r\n                    }\r\n                    if (cls.indexOf('-row-') >= 0) {\r\n                        node.setHeight(sizes[cls]);\r\n\r\n                        return;\r\n                    }\r\n                }\r\n            });\r\n            if (node.children.length > 0) {\r\n                setSize(node);\r\n            }\r\n        });\r\n    }\r\n    setSize(vc);\r\n\r\n    function updateFixedSize(node) {\r\n        if (fixedHeight > 0 && !fixedWidth) {\r\n            node.height = fixedHeight > 1 ? fixedHeight : ((node.width * fixedHeight) + (gutter * (1 - fixedHeight)));\r\n        }\r\n        if (fixedWidth > 0 && !fixedHeight) {\r\n            node.width = fixedWidth > 1 ? fixedWidth : ((node.height * fixedWidth) + (gutter * (1 - fixedWidth)));\r\n        }\r\n        if (fixedHeight > 1 && fixedWidth > 1) {\r\n            node.height = fixedHeight;\r\n            node.width = fixedWidth;\r\n        }\r\n    }\r\n\r\n    function updateRealsize(vnode) {\r\n        const nodes = vnode.children;\r\n\r\n        nodes.forEach((node) => {\r\n            if (node.width !== 0) {\r\n                node.width = Number((vnode.width * node.width / 100));\r\n            }\r\n            if (node.height !== 0) {\r\n                node.height = (freeLy && freeLy.col === 1) ? vnode.height : Number((vnode.height * node.height / 100));\r\n            }\r\n            if (node.width === 0 && vnode.width !== 0) {\r\n                node.width = Number(vnode.width);\r\n            }\r\n            if (node.height === 0 && vnode.height !== 0) {\r\n                node.height = Number(vnode.height);\r\n            }\r\n            updateFixedSize(node);\r\n            if (node.children.length > 0) {\r\n                updateRealsize(node);\r\n            }\r\n        });\r\n    }\r\n    /*eslint-disable */\r\n    const padding = options.padding,\r\n        paddingLeft = padding.left + padding.right,\r\n        paddingTop = padding.top + padding.bottom;\r\n\r\n    let width = options.width,\r\n        height = options.height;\r\n    /*eslint-enable */\r\n\r\n    if ((!width || !height) && container) {\r\n        const target = container.parentNode || container,\r\n            rect = getRect(target);\r\n\r\n        if (width === 0) {\r\n            container._origionWidth = width = rect.width;\r\n        }\r\n        if (height === 0) {\r\n            container._origionHeight = height = rect.height;\r\n        }\r\n    }\r\n\r\n    width -= paddingLeft;\r\n    height -= paddingTop;\r\n\r\n    vc.children.forEach((node) => {\r\n        if (node.width !== 0) {\r\n            node.width = width * Number(node.width) / 100;\r\n        }\r\n        if (node.height !== 0) {\r\n            node.height = height * Number(node.height) / 100;\r\n        }\r\n        if (node.width === 0) {\r\n            node.width = width;\r\n        }\r\n        if (node.height === 0) {\r\n            node.height = height;\r\n        }\r\n\r\n        updateRealsize(node);\r\n        const child = node.children[0];\r\n\r\n        if (child) {\r\n            if (fixedHeight > 0) {\r\n                node.height = child.height;\r\n            }\r\n            if (fixedWidth > 0) {\r\n                node.width = child.width;\r\n            }\r\n        }\r\n    });\r\n\r\n    vc.setWidth(width).setHeight(height);\r\n    if (fixedHeight > 0) {\r\n        if (fixedHeight <= 1) {\r\n            fixedHeight = vc.children[0].height;\r\n        }\r\n        const fixedTotalHeight = fixedHeight * options.layout.length;\r\n\r\n        vc.setHeight(fixedTotalHeight);\r\n        container._origionHeight = fixedTotalHeight;\r\n    }\r\n\r\n    if (fixedWidth > 0) {\r\n        if (fixedWidth <= 1) {\r\n            fixedWidth = vc.children[0].width;\r\n        }\r\n        let length = 0;\r\n\r\n        if (options.layoutStartType === 'row') {\r\n            length = options.layout[0][1].length;\r\n        } else {\r\n            length = options.layout.length;\r\n        }\r\n\r\n        const fixedTotalWidth = fixedWidth * length;\r\n\r\n        vc.setWidth(fixedTotalWidth);\r\n        container._origionWidth = fixedTotalWidth;\r\n    }\r\n}\r\n\r\nfunction updateAbs(vc, o, panels) {\r\n    if (!vc || !o || !panels) return;\r\n    let _step = 0;\r\n\r\n    vc.children.forEach((node) => {\r\n        if (node.type === 'row') {\r\n            node.left = 0;\r\n            node.top = _step;\r\n            _step += node.height;\r\n        }\r\n        if (node.type === 'col') {\r\n            node.top = 0;\r\n            node.left = _step;\r\n            _step += node.width;\r\n        }\r\n    });\r\n\r\n    _step = 0;\r\n    panels.forEach((node) => {\r\n        if (node.type === 'row') {\r\n            node.left = 0;\r\n            node.top = _step;\r\n            _step += node.height;\r\n        }\r\n        if (node.type === 'col') {\r\n            node.top = 0;\r\n            node.left = _step;\r\n            _step += node.width;\r\n        }\r\n    });\r\n\r\n    function setAbs(vnode) {\r\n        const nodes = vnode.children;\r\n        let step = vnode.type === 'row' ? vnode.left : vnode.top;\r\n\r\n        nodes.forEach((node) => {\r\n            if (node.type === 'row' && vnode.type === 'col') {\r\n                node.left = vnode.left;\r\n                node.top = step;\r\n                step += node.height;\r\n            }\r\n            if (node.type === 'col' && vnode.type === 'row') {\r\n                node.top = vnode.top;\r\n                node.left = step;\r\n                step += node.width;\r\n            }\r\n            if (node.children.length > 0) {\r\n                setAbs(node);\r\n            }\r\n        });\r\n    }\r\n\r\n    vc.children.forEach((node) => {\r\n        setAbs(node);\r\n    });\r\n\r\n    const gutter = o.gutter;\r\n\r\n    panels.forEach((panel) => {\r\n        panel.setWidth(panel.width - gutter)\r\n            .setHeight(panel.height - gutter)\r\n            .setTop(formatNum((panel.top + (gutter * 0.5)), 5))\r\n            .setLeft(formatNum((panel.left + (gutter * 0.5)), 5))\r\n            .clearClassName()\r\n            .setRole(CT.PANEL)\r\n            .setStyle({\r\n                position: 'absolute',\r\n                zIndex: CT.PANEL_DEFAULT_ZINDEX,\r\n            });\r\n        panel.parentNode = null;\r\n    });\r\n\r\n    vc.children = panels;\r\n    vc.children.forEach((node) => {\r\n        node.parentNode = vc;\r\n    });\r\n    panels = null;\r\n}\r\n\r\nexport function initLayoutSet(o) {\r\n    const ly = o.layout,\r\n        gutter = o.gutter,\r\n        rows = legalNumber(o.rows, CT.MIN_LY_COUNT),\r\n        cols = legalNumber(o.cols, CT.MIN_LY_COUNT);\r\n    let startType = o.layoutStartType,\r\n        _ly = ly;\r\n\r\n    if (isString(ly) && ly.toLocaleLowerCase() === 'whole') {\r\n        _ly = [[rows]];\r\n    }\r\n\r\n    if (isArray(ly)) {\r\n        if (ly.length === 0) {\r\n            _ly = [[rows]];\r\n        }\r\n        _ly = ly.map((n) => {\r\n            if (isNumber(n)) { n = [n]; }\r\n\r\n            return n;\r\n        });\r\n    }\r\n\r\n    if (isObject(ly)) {\r\n        let fh = legalNumber(ly.height, 0),\r\n            fw = legalNumber(ly.width, 0);\r\n\r\n        _ly = generateEvLy(rows, cols, ly.rows, ly.cols);\r\n\r\n        if (fh || fw) {\r\n            if (fh > 1 && fw > 0 && fw <= 1) {\r\n                fw = fh * fw;\r\n            }\r\n            if (fh > 0 && fh <= 1 && fw > 1) {\r\n                fh = fw * fh;\r\n            }\r\n            if (fw > 1) {\r\n                fw += gutter;\r\n            }\r\n            if (fh > 1) {\r\n                fh += gutter;\r\n            }\r\n            if (fh > 0 && fh <= 1 && fw > 0 && fw <= 1) {\r\n                throw new Error(ERROR_MSG.LY_FIXED_LESS);\r\n            }\r\n        }\r\n\r\n        o.fixedHeight = fh;\r\n        o.fixedWidth = fw;\r\n        o.freeLy = {\r\n            col: ly.cols || o.cols,\r\n            row: ly.rows || o.rows,\r\n            fh,\r\n            fw,\r\n        };\r\n        o.layoutStartType = startType = 'row';\r\n    }\r\n\r\n    if (_ly && !validateAllLy(_ly, rows, cols, startType)) {\r\n        throw new Error(ERROR_MSG.LY_INVALID);\r\n    }\r\n\r\n    o.layout = _ly;\r\n\r\n    return true;\r\n}\r\n\r\nexport function initLayout(o, vc) {\r\n    if (!o || !vc || !o.layout) return false;\r\n    const lys = o.layout,\r\n        cols = o.cols,\r\n        rows = o.rows,\r\n        type = o.layoutStartType;\r\n\r\n    if (!validateLayout(lys, cols, rows)) return false;\r\n\r\n    lys.forEach((ly) => { newLy(ly, type, vc, rows, cols); });\r\n\r\n    return true;\r\n}\r\n\r\nexport function updateLayout(vc, c, sizes, options, panels) {\r\n    updateVnodeSize(vc, sizes, options, c);\r\n    removeUnused(vc, panels);\r\n    updateAbs(vc, options, panels);\r\n}\r\n","import {\r\n    isNumber, isArray, contain, unique, getCssSize, formatMargin2, isPercentage, translatePercentage,\r\n} from '../../utils/util';\r\nimport { getTargetDataId, } from '../../dom/dom';\r\nimport CT from '../../constant/constant';\r\nimport Vnode from '../../dom/vdom/vnode';\r\n\r\n/**\r\n * Generate Panel layout\r\n * @param {Object} layout layoutOptions\r\n * @param {Number} scale fontscale\r\n * @return {Object} layout size\r\n */\r\nfunction genPanelLy({ gutter = 0, headHeight = 0, footHeight = 0, rightWidth = 0, leftWidth = 0 }, scale = 1) {\r\n    gutter = formatMargin2(gutter, scale);\r\n    headHeight = getCssSize(headHeight, scale);\r\n    footHeight = getCssSize(footHeight, scale);\r\n    rightWidth = getCssSize(rightWidth, scale);\r\n    leftWidth = getCssSize(leftWidth, scale);\r\n\r\n    const containerHeight = `calc(100% - ${headHeight} - ${footHeight} - ${gutter.top} - ${gutter.bottom})`,\r\n        centerWidth = `calc(100% - ${rightWidth} - ${leftWidth} - ${gutter.left} - ${gutter.right})`;\r\n\r\n    return {\r\n        headHeight,\r\n        footHeight,\r\n        rightWidth,\r\n        leftWidth,\r\n        containerHeight,\r\n        centerWidth,\r\n        gutter,\r\n    };\r\n}\r\n\r\nfunction addPanel(panel, layout, fontScale) {\r\n    const { headHeight, footHeight, rightWidth, leftWidth,\r\n        containerHeight, centerWidth, gutter } = genPanelLy(layout, fontScale);\r\n    let containerNode = null;\r\n\r\n    // head\r\n    if (headHeight !== '0px' && headHeight !== '0%') {\r\n        new Vnode().setRole(CT.GRID_HEAD)\r\n            .setHeight(headHeight)\r\n            .insertTo(panel);\r\n    }\r\n\r\n    // center\\left\\right container\r\n    if (headHeight !== '100%' && footHeight !== '100%') {\r\n        containerNode = new Vnode().setRole(CT.GRID_L_C_R)\r\n            .setHeight(containerHeight)\r\n            .setStyle({ marginBottom: gutter.bottom, marginTop: gutter.top })\r\n            .insertTo(panel);\r\n    }\r\n\r\n    // foot\r\n    if (footHeight !== '0px' && footHeight !== '0%') {\r\n        new Vnode().setRole(CT.GRID_FOOT).setHeight(footHeight).insertTo(panel);\r\n    }\r\n\r\n    // left\r\n    if (leftWidth !== '0px' && leftWidth !== '0%') {\r\n        const left = new Vnode().setRole(CT.GRID_LEFT)\r\n            .setWidth(leftWidth);\r\n\r\n        if (containerNode) {\r\n            left.insertTo(containerNode);\r\n        }\r\n    }\r\n\r\n    // center\r\n    if (containerNode) {\r\n        new Vnode().setRole(CT.GRID_CENTER)\r\n            .setWidth(centerWidth)\r\n            .setStyle({\r\n                marginLeft: gutter.left,\r\n                marginRight: gutter.right,\r\n            })\r\n            .insertTo(containerNode);\r\n    }\r\n\r\n    // right\r\n    if (rightWidth !== '0px' && rightWidth !== '0%') {\r\n        const right = new Vnode().setRole(CT.GRID_RIGHT)\r\n            .setWidth(rightWidth);\r\n\r\n        if (containerNode) {\r\n            right.insertTo(containerNode);\r\n        }\r\n    }\r\n\r\n    return panel;\r\n}\r\n\r\nexport function addLayoutToPanel(panel, layout, fontScale) {\r\n    if (!panel || !layout) return;\r\n    if (panel.queryByRole(CT.PANEL_CONTAINER)) {\r\n        return;\r\n    }\r\n\r\n    const panelContainer = new Vnode()\r\n        .setStyle({ position: 'relative' })\r\n        .setRole(CT.PANEL_CONTAINER);\r\n\r\n    addPanel(panelContainer, layout, fontScale || 1).insertTo(panel);\r\n}\r\n\r\nexport function addPanels(vc, o) {\r\n    if (!vc || !o.panel || !o.panel.enable) return;\r\n    const df = o.panel.default,\r\n        custom = o.panel.custom,\r\n        customIds = [],\r\n        fullId = o.fullId,\r\n        fullZIndex = o.fullZIndex;\r\n\r\n    if (custom && isArray(custom)) {\r\n        custom.forEach((c) => {\r\n            let panels = c.panels;\r\n\r\n            if (isNumber(panels)) {\r\n                panels = [panels];\r\n            }\r\n\r\n            if (isArray(panels)) {\r\n                const customVnodes = [];\r\n\r\n                c.panels = panels = unique(panels);\r\n                panels.forEach((id) => {\r\n                    customIds.push(id);\r\n                    const _vn = vc.getChild(id);\r\n\r\n                    if (_vn) {\r\n                        customVnodes.push(_vn);\r\n                    }\r\n                });\r\n\r\n                customVnodes.forEach((vnode) => {\r\n                    let zIndex = c.zIndex;\r\n\r\n                    if (vnode.getId() === fullId) {\r\n                        zIndex = fullZIndex;\r\n                    }\r\n                    addLayoutToPanel(vnode, c, o.fontScale);\r\n                    vnode.setStyle({ zIndex }).update();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    vc.children.forEach((node) => {\r\n        if (contain(customIds, node[CT.COMPONENT_ID_KEY]) < 0) {\r\n            let zIndex = df.zIndex;\r\n\r\n            if (node.getId() === fullId) {\r\n                zIndex = fullZIndex;\r\n            }\r\n            addLayoutToPanel(node, df, o.fontScale);\r\n            node.setStyle({ zIndex }).update();\r\n        }\r\n    });\r\n}","import CT from '../../constant/constant';\r\n\r\nexport default {\r\n\r\n    // Layout container\r\n    // It can be either DOM or ID and classname\r\n    container: '',\r\n\r\n    // Define grid rows number. Sets the number of rows in the layout. default value is 12.\r\n    rows: CT.ROWS,\r\n\r\n    // Sets the number of columns in the layout. default value is 24.\r\n    cols: CT.COLS,\r\n\r\n    // Define grid cols number. The default will be stretched over the width of the entire container.\r\n    // px\r\n    width: 0,\r\n\r\n    // The default will be full of the entire container height.\r\n    // px\r\n    height: 0,\r\n\r\n    // Gutter\r\n    gutter: 10,\r\n\r\n    // The default is the panel that is spread across the container.\r\n    // []\r\n    // {row:4, col:6, height:0, width:0}\r\n    layout: null,\r\n\r\n    // Layout start type\r\n    layoutStartType: 'row',\r\n\r\n    // font scale, only setting for panel size.\r\n    fontScale: 1,\r\n\r\n    // Full screen display of panel\r\n    fullId: 0,\r\n\r\n    // Full screen panel zIndex\r\n    fullZIndex: 0,\r\n\r\n    // scroll, when zoom is enable, scroll will be disabled.\r\n    scroll: {\r\n        x: false,\r\n        y: false,\r\n    },\r\n\r\n    // drag enable or disable.\r\n    drag: false,\r\n\r\n    // Panel setting\r\n    panel: {\r\n        enable: false,\r\n        default: {\r\n            headHeight: 0,\r\n            footHeight: 0,\r\n            leftWidth: 0,\r\n            rightWidth: 0,\r\n            gutter: 0,\r\n            zIndex: CT.PANEL_DEFAULT_ZINDEX,\r\n        },\r\n        custom: [],\r\n    },\r\n\r\n    overflowVisible: false,\r\n\r\n    // Setting Panel overflow\r\n    panelOverflow: {\r\n        visible: '',\r\n        overflowX: '',\r\n        overflowY: '',\r\n    },\r\n\r\n    /**\r\n     * dev options\r\n     * @type {Object}\r\n     * @define\r\n     */\r\n    dev: {\r\n        /**\r\n         * @param {Boolean} enable enbale or disable dev. @default false\r\n         */\r\n        enable: false,\r\n        // Panel info setting\r\n        panel: {\r\n            show: true,\r\n            id: true,\r\n            size: false,\r\n            position: false,\r\n            background: '',\r\n            fontSize: 14,\r\n            fontColor: '#333',\r\n        },\r\n        // layout guideline setting\r\n        guideline: {\r\n            show: false,\r\n            identifier: true,\r\n            lineSize: 1,\r\n            color: 'rgba(0,0,0,.25)',\r\n            zIndex: 0,\r\n            fontSize: 14,\r\n            fontColor: '#333',\r\n        },\r\n        // panel guidlines setting\r\n        panelGuideline: {\r\n            show: false,\r\n            ids: 'all',\r\n            lineSize: 0.5,\r\n            size: 15,\r\n            zIndex: 0,\r\n            color: '#888',\r\n        },\r\n        // Screen splitline setting\r\n        splitline: {\r\n            show: false,\r\n            lineSize: 1,\r\n            width: 100,\r\n            height: 100,\r\n            color: '#000',\r\n            zIndex: 0,\r\n            identifier: true,\r\n            fontColor: '#333333',\r\n            fontSize: 12,\r\n        },\r\n        // only show one or some pannels.\r\n        showIds: 0,\r\n    },\r\n\r\n    // Zoom setting\r\n    zoom: {\r\n        enable: false,\r\n        control: true,\r\n        scale: 1,\r\n        ratio: 0.1,\r\n        min: 0.1,\r\n        max: 1,\r\n        position: 'rightTop', // leftTop, leftBottom, rightBottom, rightTop\r\n        wheelZoom: true,\r\n    },\r\n\r\n    /**\r\n     * Focus option\r\n     * @type {Object}\r\n     * @define fouces\r\n     * @param {Number|String} id focus id @default 0\r\n     * @param {Number} offsetX offsetX @default 0\r\n     * @param {Number} offsetY offsetY @default 0\r\n     */\r\n    focus: {\r\n        id: 0,\r\n        offsetX: 0,\r\n        offsetY: 0,\r\n    },\r\n\r\n    // set auto line-height. lineheight will to be eqaul element height\r\n    // [{ids: 1, type: 'center, head'}, {ids:[2,3], type:'head'}]\r\n    lineHeight: null,\r\n\r\n    /**\r\n     * Hide ids\r\n     * @type {Array|Number|String}\r\n     * @default\r\n     */\r\n    hideIds: null,\r\n\r\n    /**\r\n     * hide type. include panel, wrap, center, head, foot, left, right\r\n     * @type {String}\r\n     * @default\r\n     */\r\n    hideType: 'panel',\r\n\r\n    /**\r\n     * trace window resize\r\n     * @type {Boolean}\r\n     * @default\r\n     */\r\n    trackResize: true,\r\n\r\n    /**\r\n     * update interval time.ms\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    updateInterval: 200,\r\n\r\n    /**\r\n     * render delay time. ms\r\n     * @type {Number}\r\n     * @default\r\n     */\r\n    renderDelay: 0,\r\n\r\n    /**\r\n     * theme setting.\r\n     * @type {Object}\r\n     * @default\r\n     */\r\n    style: null,\r\n\r\n    /**\r\n     * Extend Panels setting\r\n     * @type {Array}\r\n     * @default\r\n     */\r\n    extends: [],\r\n\r\n    /**\r\n     * onload function\r\n     * @type {Function}\r\n     * @default\r\n     */\r\n    onload: null,\r\n\r\n    /**\r\n     * update function\r\n     * @type {Function}\r\n     * @default\r\n     */\r\n    update: null,\r\n\r\n    /**\r\n     * Alias\r\n     * @type {Object}\r\n     * @default\r\n     */\r\n    alias: null,\r\n};\r\n","import CT from '../../constant/constant';\r\n\r\nconst prefix = `${CT.NAME}-`;\r\n\r\n/**\r\n * Theme option\r\n * @typedef {Object} theme\r\n * @prop {Object} container container theme\r\n * @prop {Object} default panel default theme\r\n * @prop {Object|Array} custom custom panel theme\r\n */\r\nexport default {\r\n    container: prefix + CT.WRAP,\r\n    inner: prefix + CT.CONTAINER,\r\n    zoomContainer: prefix + CT.ZOOMCONTAINER,\r\n    zoomPane: prefix + CT.ZOOMPANE,\r\n    default: {\r\n        panel: prefix + CT.PANEL,\r\n        panelContainer: prefix + CT.PANEL_CONTAINER,\r\n        head: prefix + CT.GRID_HEAD,\r\n        foot: prefix + CT.GRID_FOOT,\r\n        center: prefix + CT.GRID_CENTER,\r\n        right: prefix + CT.GRID_RIGHT,\r\n        left: prefix + CT.GRID_LEFT,\r\n        lcr: prefix + CT.GRID_L_C_R,\r\n    },\r\n    custom: null,\r\n};","import {\r\n    isString, isObject, isEmptyObject, removeObjectFromArray,\r\n    stamp, reverseCamelcase, getPercentage, isArray,\r\n} from '../../utils/util';\r\nimport CT from '../../constant/constant';\r\n\r\nconst keys = ['baseFrequency', 'stdDeviation', 'viewBox', 'numOctaves',\r\n    'tableValues', 'markerWidth', 'markerHeight', 'refX', 'refY',\r\n    'patternUnits', 'patternTransform'].join(' ');\r\n\r\n/**\r\n * SVG\r\n * @class\r\n * @ignore\r\n */\r\nexport default class SVG {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {String} nodeName node tagNae\r\n     * @param {SVG} parent parent node\r\n     */\r\n    constructor(nodeName, parent) {\r\n        this.nodeName = nodeName || 'svg';\r\n        this.attrs = {};\r\n        this.children = [];\r\n        this.parentNode = null;\r\n        this.realNode = null;\r\n        this._stamp();\r\n        this.id = this._popo_id;\r\n        this.styles = {};\r\n        this.style = '';\r\n        this.html = '';\r\n        if (parent) {\r\n            this.insertTo(parent);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Stamp svg node\r\n     * @ignore\r\n     */\r\n    _stamp() {\r\n        let preffix = '';\r\n\r\n        switch (this.nodeName) {\r\n            case 'filter':\r\n                preffix = CT.FILTER;\r\n                break;\r\n            case 'linearGradient':\r\n                preffix = CT.LINER_GRADIENT;\r\n                break;\r\n            case 'radialGradient':\r\n                preffix = CT.RADIAL_GRADIENT;\r\n                break;\r\n            case 'marker':\r\n                preffix = CT.MARKER;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        stamp(this, preffix);\r\n    }\r\n\r\n    /**\r\n     * Set node id\r\n     * @ignore\r\n     * @return {SVG} current svg instance\r\n     */\r\n    _setId() {\r\n        this.attr({\r\n            id: this.getId(),\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get node id\r\n     * @return {String} id\r\n     */\r\n    getId() {\r\n        return this.attr('id') || `${CT.DRAW_ID_KEY}-${this._popo_id}`;\r\n    }\r\n\r\n    /**\r\n     * Set style\r\n     * @param {Object} styles styles\r\n     * @return {SVG} current svg instance\r\n     */\r\n    setStyle(styles) {\r\n        for (const key in styles) {\r\n            this.styles[key] = styles[key];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add attibutes\r\n     * @param {Object|String} name name\r\n     * @param {Any} value value\r\n     * @return {SVG} current svg instance\r\n     */\r\n    attr(name, value) {\r\n        if (!name) return this;\r\n        if (isString(name)) {\r\n            if (value !== undefined && value !== null) {\r\n                if (keys.indexOf(name) < 0) {\r\n                    name = reverseCamelcase(name);\r\n                }\r\n                this.attrs[name] = value;\r\n\r\n                return this;\r\n            }\r\n\r\n            return this.attrs[name];\r\n        }\r\n\r\n        if (isObject(name)) {\r\n            for (const key in name) {\r\n                if (isObject(name[key]) && name[key] instanceof SVG) {\r\n                    let _key = key;\r\n\r\n                    if (keys.indexOf(key) < 0) {\r\n                        _key = reverseCamelcase(key);\r\n                    }\r\n                    this.attrs[_key] = `url(#${name[key].getId()})`;\r\n                } else if (keys.indexOf(key) < 0) {\r\n                    const _key = reverseCamelcase(key);\r\n\r\n                    if (_key === 'id') {\r\n                        this.attrs[_key] = `${CT.DRAW_ID_KEY}-${name[key]}`;\r\n                    } else {\r\n                        this.attrs[_key] = name[key];\r\n                    }\r\n                } else {\r\n                    this.attrs[key] = name[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set SVG Filter\r\n     * @ignore\r\n     * @param {Object} filters filters\r\n     * @param {Object} node node\r\n     * @return {SVG} current svg instance\r\n     */\r\n    _filter(filters, node) {\r\n        node = node || this;\r\n        for (let i = 0, len = filters.length; i < len; i++) {\r\n            const f = filters[i];\r\n\r\n            for (const key in f) {\r\n                const filter = new SVG(key, node),\r\n                    pureKeys = {};\r\n\r\n                if (isArray(f[key])) {\r\n                    this._filter(f[key], filter);\r\n                } else {\r\n                    for (const _key in f[key]) {\r\n                        if (isObject(f[key][_key])) {\r\n                            new SVG(_key, filter).attr(f[key][_key]);\r\n                        } else {\r\n                            pureKeys[_key] = f[key][_key];\r\n                        }\r\n                    }\r\n                    filter.attr(pureKeys);\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set gradient\r\n     * @ignore\r\n     * @param {Array} stops  [offset, stopColor, stopOpacity]\r\n     * @return {SVG} current svg instance\r\n     */\r\n    _stops(stops) {\r\n        for (let i = 0; i < stops.length; i++) {\r\n            new SVG('stop', this).attr({\r\n                offset: `${getPercentage(stops[i][0])}%`,\r\n                stopColor: stops[i][1] || '#333',\r\n                stopOpacity: stops[i][2] || 1,\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Insert to parent\r\n     * @param {Object} parent parentNode\r\n     * @return {SVG} current svg instance\r\n     */\r\n    insertTo(parent) {\r\n        if (parent && parent.children) {\r\n            parent.children.push(this);\r\n            this.parentNode = parent;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create svg\r\n     * @param {String} nodeName svg tag name\r\n     * @param {Object} attrs attributies\r\n     * @return {SVG} current svg instance\r\n     */\r\n    create(nodeName, attrs) {\r\n        return new SVG(nodeName, this).attr(attrs);\r\n    }\r\n\r\n    /**\r\n     * Add child\r\n     * @param {Object} son svg instance\r\n     * @return {SVG} current svg instance\r\n     */\r\n    add(son) {\r\n        if (son) {\r\n            this.children.push(son);\r\n            son.parentNode = this;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove svg node\r\n     * @param {Object} node svg node instance\r\n     * @return {SVG} current svg instance\r\n     */\r\n    remove(node) {\r\n        if (node && node._popo_id && this.children.length > 0) {\r\n            return removeObjectFromArray(this.children, '_popo_id', node._popo_id);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Render node\r\n     * @ignore\r\n     * @param {SVG} node svg node\r\n     */\r\n    render(node) {\r\n        if (!isEmptyObject(this.styles)) {\r\n            let style = '';\r\n\r\n            for (const key in this.styles) {\r\n                if (isObject(this.styles[key]) && this.styles[key] instanceof SVG) {\r\n                    style += `${key}:url(#${this.styles[key].getId()});`;\r\n                } else {\r\n                    style += `${key}:${this.styles[key]};`;\r\n                }\r\n            }\r\n            if (style) {\r\n                this.attr({ style });\r\n            }\r\n        }\r\n\r\n        const attrs = this.attrs;\r\n\r\n        for (const key in attrs) {\r\n            if (key.indexOf('xlink') >= 0) {\r\n                node.setAttributeNS('http://www.w3.org/1999/xlink', key, attrs[key]);\r\n            } else {\r\n                node.setAttribute(key, attrs[key]);\r\n            }\r\n        }\r\n\r\n        if (this.nodeName === 'style' || this.nodeName === 'text') {\r\n            node.innerHTML = this.html;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set svg inner html\r\n     * @param {String} html html content\r\n     * @return {SVG} current svg instance\r\n     */\r\n    setHtml(html) {\r\n        if (html) {\r\n            this.html = html;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Create svg element\r\n     * @param {Boolean} hidden hidden\r\n     * @return {HTMLObject} html object\r\n     */\r\n    createElement(hidden) {\r\n        if (hidden) {\r\n            this.attr({ width: '0%', height: '0%' });\r\n        }\r\n\r\n        const node = document.createElementNS('http://www.w3.org/2000/svg', this.nodeName);\r\n\r\n        this.render(node);\r\n\r\n        if (this.children && this.children.length > 0) {\r\n            this.children.forEach((c) => {\r\n                if (c.nodeName === 'defs' && c.children.length === 0) {\r\n                    return;\r\n                }\r\n                if (c.nodeName === 'style' && c.html === '') {\r\n                    return;\r\n                }\r\n                node.appendChild(c.createElement());\r\n            });\r\n        }\r\n\r\n        this.realNode = node;\r\n\r\n        if (hidden) {\r\n            node.style.width = '0px';\r\n            node.style.height = '0px';\r\n            node.style.zIndex = -9999;\r\n            node.style.position = 'fixed';\r\n            node.style.top = '-100%';\r\n            node.style.left = '-100%';\r\n        }\r\n\r\n        return node;\r\n    }\r\n}\r\n","import { isArray, getPercentage } from '../../utils/util';\r\nimport CT from '../../constant/constant';\r\nimport VSVG from './vsvg_base';\r\n\r\n/**\r\n * SVG\r\n * @class\r\n * @ignore\r\n */\r\nexport default class SVG extends VSVG {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {String} nodeName node tagName\r\n     * @param {SVG} parent parent svg\r\n     * @param {Object} options options\r\n     */\r\n    constructor(nodeName, parent, options) {\r\n        super(nodeName, parent, options);\r\n        this.attr({\r\n            width: '100%',\r\n            height: '100%',\r\n        });\r\n        this.globalStyle = new VSVG('style', this);\r\n        this.defs = new VSVG('defs', this);\r\n        this._setId();\r\n    }\r\n\r\n    /**\r\n     * Get custom defines\r\n     * @param {string|Number} id defined id\r\n     * @return {String} format defined object\r\n     */\r\n    def(id) {\r\n        return this.defs._getDefById(id) || '';\r\n    }\r\n\r\n    /**\r\n     * Get Custom defined item\r\n     * @ignore\r\n     * @param {String} id id\r\n     * @return {String} defined object\r\n     */\r\n    _getDefById(id) {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            const childId = this.children[i].getId();\r\n\r\n            if (childId) {\r\n                if (childId === id || childId === (`${CT.DRAW_ID_KEY}-${id}`)) {\r\n                    return `url(#${childId})`;\r\n                }\r\n            }\r\n        }\r\n\r\n        return '';\r\n    }\r\n\r\n    /**\r\n     * Add global style\r\n     * @param {String} style style content\r\n     * @return {SVG} current svg instance\r\n     */\r\n    addGlobalStyle(style) {\r\n        this.globalStyle.html += style;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add radial gradient\r\n     * @param {Number} cx circle x center position\r\n     * @param {Number} cy circle y center position\r\n     * @param {Number} r radius\r\n     * @param {Array} stops  stops\r\n     * @return {SVG} new gradient svg\r\n     */\r\n    addRG(cx, cy, r, stops) {\r\n        stops = stops || [\r\n            [0, '#333', 1],\r\n            [1, '#555', 1],\r\n        ];\r\n\r\n        return new VSVG('radialGradient', this.defs)._setId().attr({ cx, cy, r })._stops(stops);\r\n    }\r\n\r\n    /**\r\n     * Add linear gradient\r\n     * @param {*} x1 start x position\r\n     * @param {*} y1 start y position\r\n     * @param {*} x2 end x position\r\n     * @param {*} y2 end y position\r\n     * @param {*} stops  stops array\r\n     * @return {SVG} new gradient svg node\r\n     */\r\n    addLG(x1, y1, x2, y2, stops) {\r\n        x1 = `${getPercentage(x1)}%`;\r\n        y1 = `${getPercentage(y1)}%`;\r\n        x2 = `${getPercentage(x2, 1)}%`;\r\n        y2 = `${getPercentage(y2)}%`;\r\n        stops = stops || [\r\n            [0, '#333', 1],\r\n            [1, '#555', 1],\r\n        ];\r\n\r\n        return new VSVG('linearGradient', this.defs)._setId().attr({ x1, x2, y1, y2 })._stops(stops);\r\n    }\r\n\r\n    /**\r\n     * Add Group\r\n     * @param {Array} units units\r\n     */\r\n    g(units) {\r\n        const g = new VSVG('g', this)._setId();\r\n\r\n        if (isArray(units)) {\r\n            /*eslint-disable */\r\n            units.forEach((u) => {\r\n                new VSVG('path', g);\r\n            })\r\n            /*eslint-enable */\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add filters\r\n     * @param {Object} filters filter\r\n     * @return {SVG} new filter svg\r\n     */\r\n    addFilter(filters) {\r\n        return new VSVG('filter', this.defs)._setId()._filter(filters);\r\n    }\r\n\r\n    /**\r\n     * Add marker\r\n     * @param {Object} markers markers\r\n     * @param {String} color color\r\n     * @return {SVG} new marker svg\r\n     */\r\n    addMarker(markers, color) {\r\n        const marker = new VSVG('marker', this.defs)._setId().attr(markers);\r\n\r\n        new VSVG('circle', marker).attr({\r\n            cx: 5,\r\n            cy: 5,\r\n            r: 4,\r\n            fill: 'none',\r\n            stroke: color || '#ffffff',\r\n            strokeWidth: 1,\r\n        });\r\n\r\n        return marker;\r\n    }\r\n\r\n    /**\r\n     * Add pattern\r\n     * @param {Object} patterns patterns\r\n     * @return {SVG} new pattern svg\r\n     */\r\n    addPattern(patterns) {\r\n        const pattern = new VSVG('pattern', this.defs)._setId().attr(patterns),\r\n            { width, height } = pattern.attrs;\r\n\r\n        new VSVG('line', pattern).attr({\r\n            x1: width / 2,\r\n            y1: 0,\r\n            x2: width / 2,\r\n            y2: height,\r\n            strokeWidth: width / 2,\r\n            stroke: 'rgba(0,0,0,.2)',\r\n        });\r\n\r\n        return pattern;\r\n    }\r\n\r\n    /**\r\n     * Create SVG\r\n     * @param {String} nodeName node tagName\r\n     * @param {Object} attrs attributes\r\n     * @return {SVG} new svg node\r\n     */\r\n    create(nodeName, attrs) {\r\n        return new VSVG(nodeName, this).attr(attrs);\r\n    }\r\n\r\n}\r\n","import Vnode from '../../dom/vdom/vnode';\r\nimport SVG from '../../dom/vdom//vsvg';\r\nimport CT from '../../constant/constant';\r\nimport { css, create, removeByClass, query } from '../../dom/dom';\r\nimport { isNumber, isArray, isString, isDOM, merge } from '../../utils/util';\r\nimport { getRealIds, getAllIds } from './popo';\r\n\r\nfunction n2px(fz) {\r\n    if (isNumber(fz)) return `${fz}px`;\r\n    if (isString(fz)) {\r\n        if (fz.indexOf('px') < 0 || fz.indexOf('em') > 0) {\r\n            return fz;\r\n        } else if (!isNaN(Number(fz))) {\r\n            return `${fz}px`;\r\n        }\r\n    }\r\n\r\n    return fz;\r\n}\r\n\r\nfunction px2n(str) {\r\n    if (isString(str)) {\r\n        const i = str.indexOf('px');\r\n\r\n        if (i >= 0) {\r\n            return Number(str.substring(0, i));\r\n        }\r\n    }\r\n\r\n    if (isNumber(str)) {\r\n        return str;\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nfunction _addGGL(panel, o) {\r\n    if (!panel || !isDOM(panel.realDom) || !o || !o.show) return;\r\n    removeByClass(CT.PANEL_GUIDELINES, panel.realDom);\r\n    const ggl = query(panel.realDom, `.${CT.GUIDELINES}`),\r\n        width = panel.width,\r\n        height = panel.height,\r\n        zIndex = o.zIndex,\r\n        size = o.size || 15,\r\n        color = o.color,\r\n        lineSize = o.lineSize,\r\n        lines = new SVG(),\r\n        svg = create('div', CT.PANEL_GUIDELINES, {\r\n            zIndex,\r\n            height: `${height}px`,\r\n            width: `${width}px`,\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: 0,\r\n            overflow: 'hidden',\r\n            userSelect: 'none',\r\n        }, panel.realDom);\r\n\r\n    if (isDOM(ggl)) {\r\n        panel.realDom.removeChild(ggl);\r\n    }\r\n\r\n    let rows = Math.ceil(height / size),\r\n        cols = Math.ceil(width / size),\r\n        points = '',\r\n        points2 = '';\r\n\r\n    for (let i = 1; i <= rows; i++) {\r\n        const y = size * i;\r\n\r\n        points += `M0 ${y} L${width} ${y} `;\r\n    }\r\n    for (let i = 1; i <= cols; i++) {\r\n        const x = size * i;\r\n\r\n        points += `M${x} 0 L${x} ${height} `;\r\n    }\r\n\r\n    rows = Math.ceil(height / size / 4);\r\n    cols = Math.ceil(width / size / 4);\r\n    for (let i = 1; i <= rows; i++) {\r\n        const y = size * i * 4;\r\n\r\n        points2 += `M0 ${y} L${width} ${y} `;\r\n    }\r\n    for (let i = 1; i <= cols; i++) {\r\n        const x = size * i * 4;\r\n\r\n        points2 += `M${x} 0 L${x} ${height} `;\r\n    }\r\n\r\n    lines.create('path', { d: points, stroke: color, strokeWidth: lineSize });\r\n    lines.create('path', { d: points2, stroke: color, strokeWidth: lineSize * 1.5 });\r\n    svg.appendChild(lines.createElement());\r\n}\r\n\r\nfunction addPanelGuidelines(vc, o) {\r\n    if (!vc || !o || !o.dev || !o.dev.enable || !o.dev.panelGuideline.show) return;\r\n    const gg = o.dev.panelGuideline,\r\n        options = merge({\r\n            color: 'rgba(0,0,0,.25)',\r\n            width: 1,\r\n            size: 10,\r\n            zIndex: 0,\r\n        }, gg || {});\r\n\r\n    let ids = gg.ids;\r\n\r\n    if (ids === 'all') {\r\n        ids = getAllIds(vc);\r\n    }\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n    if (isArray(ids)) {\r\n        ids.forEach((id) => {\r\n            id = getRealIds(vc, id, o.alias);\r\n            if (id > 0) {\r\n                const node = vc.getChild(id);\r\n\r\n                if (node && node.realDom) {\r\n                    _addGGL(node, options);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction createPanelInfo(panel, size, id, position, color, fontSize) {\r\n    fontSize = n2px(fontSize);\r\n    if (panel && panel.realDom) {\r\n        const width = Math.round(panel.width),\r\n            height = Math.round(panel.height),\r\n            left = Math.round(panel.left),\r\n            top = Math.round(panel.top);\r\n\r\n        if (size || id || position) {\r\n            let info = '';\r\n\r\n            if (id) {\r\n                info += panel[CT.COMPONENT_ID_KEY];\r\n            }\r\n            if (size) {\r\n                info += `${(id ? ' - ' : '')} W${width} H${height}`;\r\n            }\r\n            if (position) {\r\n                info += `${(id || size) ? ' - ' : ''} L${left} T${top}`;\r\n            }\r\n\r\n            return new Vnode('span')\r\n                .addClassName(CT.INFO)\r\n                .setTop(panel.top + 5)\r\n                .setLeft(panel.left + 5)\r\n                .setWidth('auto')\r\n                .setHeight('auto')\r\n                .setStyle({ color, fontSize })\r\n                .setHtml(info);\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction createDebugInfo(vc, dev) {\r\n    if (!vc || !dev || !dev.enable || !dev.panel.show) return;\r\n    const o = dev.panel,\r\n        id = o.id,\r\n        size = o.size,\r\n        position = o.position,\r\n        background = o.background,\r\n        fontSize = n2px(o.fontSize),\r\n        fontColor = o.fontColor;\r\n\r\n    if (vc.realDom && (id || size || position || background)) {\r\n        for (let i = 0, len = vc.children.length; i < len; i++) {\r\n            if (vc.children[i].realDom && background && isString(background)) {\r\n                css(vc.children[i].realDom, { background });\r\n            }\r\n            const span = createPanelInfo(vc.children[i], size, id, position, fontColor, fontSize);\r\n\r\n            if (span) {\r\n                vc.realDom.appendChild(span.createElement());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction createSVGText(svg, text, x, y, fontSize, fill) {\r\n    if (svg) {\r\n        svg.create('text', { x, y, fontSize, fill }).setHtml(text);\r\n    }\r\n}\r\n\r\nexport function addGuidelines(c, vc, o) {\r\n    if (!c || !vc || !o || !o.dev.guideline.show) return;\r\n    removeByClass(CT.GUIDELINES, c);\r\n    const gl = o.dev.guideline,\r\n        padding = o.padding,\r\n        width = vc.width + padding.left + padding.right,\r\n        height = vc.height + padding.top + padding.bottom,\r\n        identifier = gl.identifier,\r\n        fontSize = gl.fontSize,\r\n        fontColor = gl.fontColor,\r\n        zIndex = gl.zIndex,\r\n        rows = o.rows,\r\n        cols = o.cols,\r\n        unitRowHeight = (100 / rows).toFixed(5) * height / 100,\r\n        unitColWidth = (100 / cols).toFixed(5) * width / 100,\r\n        lines = new SVG(),\r\n        svg = create('div', CT.GUIDELINES, {\r\n            zIndex,\r\n            height: `${height}px`,\r\n            width: `${width}px`,\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: 0,\r\n            overflow: 'hidden',\r\n            userSelect: 'none',\r\n        }, c),\r\n        position = c.style.position;\r\n\r\n    if (position === '' || position === 'static') {\r\n        css(c, {\r\n            position: 'relative',\r\n        });\r\n    }\r\n\r\n    let points = '';\r\n\r\n    for (let i = 0; i <= rows; i++) {\r\n        const y = unitRowHeight * i;\r\n\r\n        points += `M0 ${y} L${width} ${y} `;\r\n        if (identifier) {\r\n            createSVGText(lines, i, 5, y - unitRowHeight + px2n(fontSize) + 5, fontSize, fontColor);\r\n        }\r\n    }\r\n    for (let i = 0; i <= cols; i++) {\r\n        const x = unitColWidth * i;\r\n\r\n        points += `M${x} 0 L${x} ${height} `;\r\n        if (identifier && i !== 1) {\r\n            createSVGText(lines, i, x - unitColWidth + 5, px2n(fontSize) + 5, fontSize, fontColor);\r\n        }\r\n    }\r\n\r\n    lines.create('path', { d: points, stroke: gl.color, strokeWidth: gl.lineSize });\r\n    svg.appendChild(lines.createElement());\r\n}\r\n\r\nexport function addSplitLine(c, vc, o) {\r\n    if (!c || !vc || !o || !o.dev.splitline.show) return;\r\n    removeByClass(CT.SPLITLINES, c);\r\n    const sl = o.dev.splitline,\r\n        fontSize = n2px(sl.fontSize),\r\n        fontColor = sl.fontColor,\r\n        padding = o.padding,\r\n        identifier = sl.identifier,\r\n        width = vc.width + padding.left + padding.right,\r\n        height = vc.height + padding.top + padding.bottom,\r\n        unitRowHeight = sl.height,\r\n        unitColWidth = sl.width,\r\n        zIndex = sl.zIndex,\r\n        rows = Math.ceil(height / unitRowHeight),\r\n        cols = Math.ceil(width / unitColWidth),\r\n        svg = create('div', CT.SPLITLINES, {\r\n            zIndex,\r\n            height: `${height}px`,\r\n            width: `${width}px`,\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: 0,\r\n            overflow: 'hidden',\r\n            userSelect: 'none',\r\n        }, c),\r\n        lines = new SVG(),\r\n        position = c.style.position,\r\n        infoY = [],\r\n        infoX = [];\r\n\r\n    if (position === '' || position === 'static') {\r\n        css(c, { position: 'relative' });\r\n    }\r\n\r\n    let points = '';\r\n\r\n    for (let i = 0; i <= rows; i++) {\r\n        const y = unitRowHeight * i;\r\n\r\n        points += `M0 ${y} L${width} ${y} `;\r\n        infoY.push(y);\r\n    }\r\n    for (let i = 0; i <= cols; i++) {\r\n        const x = unitColWidth * i;\r\n\r\n        points += `M${x} 0 L${x} ${height} `;\r\n        infoX.push(x);\r\n    }\r\n\r\n    if (identifier) {\r\n        infoX.forEach((x) => {\r\n            infoY.forEach((y) => {\r\n                createSVGText(lines, `${x}, ${y}`, x + 10, y + 10 + px2n(fontSize), fontSize, fontColor);\r\n            });\r\n        });\r\n    }\r\n\r\n    lines.create('path', { d: points, stroke: sl.color, strokeWidth: sl.lineSize });\r\n    svg.appendChild(lines.createElement());\r\n}\r\n\r\nexport function loadDev(c, vc, o) {\r\n    if (!vc || !c || !o || !o.dev || !o.dev.enable) return false;\r\n    removeByClass(CT.INFO, c);\r\n    createDebugInfo(vc, o.dev);\r\n    addGuidelines(c, vc, o);\r\n    addSplitLine(c, vc, o);\r\n    addPanelGuidelines(vc, o);\r\n\r\n    return true;\r\n}\r\n","import CT from '../../constant/constant';\r\n\r\n/**\r\n * Screen extends panel option and addPanel option\r\n * @typedef {Object} panel\r\n * @property {Object} size panel size\r\n * @property {Object} position panel position\r\n * @property {String} id panel dom id\r\n * @property {Number} zIndex panel zIndex\r\n * @prop {Object} layout panel layout.\r\n */\r\nexport default {\r\n    size: {\r\n        width: 0,\r\n        height: 0,\r\n        responsive: true,\r\n    },\r\n    position: {\r\n        left: 0,\r\n        top: 0,\r\n        responsive: true,\r\n    },\r\n    id: '',\r\n    zIndex: CT.PANEL_DEFAULT_ZINDEX,\r\n    layout: null,\r\n};\r\n\r\n//    layout: {\r\n//     headHeight: 0,\r\n//     footHeight: 0,\r\n//     leftWidth: 0,\r\n//     rightWidth: 0,\r\n//     gutter: 0,\r\n// },","import Vnode from '../../dom/vdom/vnode';\r\nimport CT from '../../constant/constant';\r\nimport { updateLayout, initLayout } from './layout';\r\nimport { addLayoutToPanel } from './panel';\r\nimport {\r\n    css, addClass, setClass, hasClass, query, eachChild,\r\n    removeClass, getPureStyle, getRect, attr,\r\n} from '../../dom/dom';\r\nimport {\r\n    isNumber, isArray, isString, isDOM, isObject, contain, isEmptyObject, merge,\r\n    bind, multiplyBy, isFunction, formatNum, cloneJsonObject,\r\n} from '../../utils/util';\r\nimport { loadDev } from './dev';\r\nimport defaultPanel from '../options/panel';\r\nimport defaultStyle from '../options/style';\r\n\r\nexport function createPane(o) {\r\n    const pd = o.padding,\r\n        str = `${pd.top}px ${pd.right}px ${pd.bottom}px ${pd.left}px`;\r\n\r\n    return new Vnode()\r\n        .setRole(CT.PANE)\r\n        .setHeight('auto')\r\n        .setStyle({\r\n            padding: str,\r\n            fontSize: `${o.fontScale}em`,\r\n        })\r\n        .createElement();\r\n}\r\n\r\nexport function createVc() {\r\n    return new Vnode()\r\n        .setRole(CT.CONTAINER)\r\n        .setStyle({ position: 'relative' });\r\n}\r\n\r\nexport function vcToDom(vc) {\r\n    return vc && vc.createElement();\r\n}\r\n\r\nexport function getAllIds(vc) {\r\n    return vc ? vc.children.map((node) => node.getId()) : [];\r\n}\r\n\r\nexport function stampInner(c) {\r\n    if (isDOM(c)) {\r\n        [CT.ZOOMPANE, CT.ZOOMCONTAINER].forEach((role) => {\r\n            if (attr(c, CT.ROLE) === role) {\r\n                /*eslint-disable */\r\n                c._popo_inner = true;\r\n                /*eslint-enable */\r\n\r\n                return;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function addExtend(vc, padding, options, scale, createPanel) {\r\n    if (!vc || !padding || !options) return null;\r\n    const { left, top, right, bottom } = padding,\r\n        width = vc.width + left + right,\r\n        height = vc.height + top + bottom;\r\n\r\n    if (isObject(options)) {\r\n        const panelOption = merge(defaultPanel, options),\r\n            { position, size, id, zIndex, layout, style } = panelOption,\r\n            node = new Vnode()\r\n                .setRole(CT.PANEL)\r\n                .setHeight(multiplyBy(size.height || 0, height))\r\n                .setWidth(multiplyBy(size.width || 0, width))\r\n                .setTop(multiplyBy(position.top || 0, height))\r\n                .setLeft(multiplyBy(position.left || 0, width))\r\n                .setStyle({\r\n                    position: 'absolute',\r\n                    zIndex,\r\n                });\r\n\r\n        if (id) { node.id = id; }\r\n\r\n        node[CT.COMPONENT_ID_KEY] = vc.getNewId();\r\n        node.isExtend = true;\r\n        node.extendInfo = {\r\n            position: {\r\n                left: node.left / (position.responsive ? width : 1),\r\n                top: node.top / (position.responsive ? height : 1),\r\n            },\r\n            size: {\r\n                width: node.width / (size.responsive ? width : 1),\r\n                height: node.height / (size.responsive ? height : 1),\r\n            },\r\n            zIndex,\r\n        };\r\n\r\n        if (layout && isObject(layout) && createPanel) {\r\n            addLayoutToPanel(node, layout, scale);\r\n        }\r\n        if (style) {\r\n            const _style = merge(defaultStyle.default, style);\r\n\r\n            _setStyle(node, _style.panel, false, true);\r\n            for (const key in style) {\r\n                const son = node.queryByRole(key);\r\n\r\n                if (son && _style[key]) {\r\n                    _setStyle(son, _style[key], false, true);\r\n                }\r\n            }\r\n        }\r\n        vc.addNode(node);\r\n\r\n        return node;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function loadExtends(vc, o, createPanel) {\r\n    if (!vc || !o || !o.extends) return;\r\n    let ext = o.extends;\r\n\r\n    if (ext && isObject(ext)) {\r\n        ext = [ext];\r\n    }\r\n    if (ext && isArray(ext)) {\r\n        ext.forEach((e) => {\r\n            addExtend(vc, o.padding, e, o.fontScale, createPanel);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateExtends(vc, o) {\r\n    if (!vc || !o) return;\r\n    const exts = vc.children.filter((n) => n.isExtend === true),\r\n        { left, top, right, bottom } = o.padding,\r\n        width = vc.width + left + right,\r\n        height = vc.height + top + bottom;\r\n\r\n    exts.forEach((panel) => {\r\n        if (isObject(panel.extendInfo)) {\r\n            const { size, position } = panel.extendInfo,\r\n                panelWidth = multiplyBy(size.width || 0, width),\r\n                panelHeight = multiplyBy(size.height || 0, height);\r\n\r\n            panel.setHeight(panel._oldHeight !== undefined ? panel.height : panelHeight)\r\n                .setWidth(panel._oldWidth !== undefined ? panel.width : panelWidth)\r\n                .setTop(multiplyBy(panel._oldTop !== undefined ? panel.top : position.top || 0, height))\r\n                .setLeft(multiplyBy(panel._oldLeft !== undefined ? panel.left : position.left || 0, width))\r\n                .update();\r\n        }\r\n    });\r\n}\r\n\r\nexport function getIdByAlias(alias, key) {\r\n    if (isArray(alias) && key) {\r\n        const _alias = alias.slice(0),\r\n            result = _alias.filter((a) => a && a.name === key);\r\n\r\n        if (result.length === 1) {\r\n            return result[0].id || -1;\r\n        }\r\n        if (result.length > 1) {\r\n            return result.map((r) => r.id || -1)[0];\r\n        }\r\n    }\r\n\r\n    return -1;\r\n}\r\n\r\nexport function getAliasById(alias, id) {\r\n    if (isArray(alias) && id) {\r\n        const result = isArray(alias) && id && alias.slice(0).filter((a) => a && a.id === id)[0];\r\n\r\n        if (isObject(result)) {\r\n            return result.name;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction getId(id, alias) {\r\n    if (!isNaN(Number(id))) {\r\n        return Number(id);\r\n    } else if (alias && isString(id)) {\r\n        return getIdByAlias(alias, id);\r\n    }\r\n\r\n    return -1;\r\n}\r\n\r\nexport function getRealIds(vc, id, alias) {\r\n    if (!vc || id === null || id === undefined) return -1;\r\n    const length = vc.children.length;\r\n\r\n    if (id === 'all') {\r\n        return getAllIds(vc);\r\n    }\r\n    if (!isArray(id)) {\r\n        id = getId(id, alias);\r\n\r\n        return id < 0 ? -1 : id;\r\n    }\r\n\r\n    return id.map((_id) => {\r\n        _id = getId(_id, alias);\r\n\r\n        return _id < 0 ? -1 : _id;\r\n    });\r\n}\r\n\r\nfunction getNode(panel, type) {\r\n    if (panel) {\r\n        type = type || CT.GRID_CENTER;\r\n\r\n        /*eslint-disable */\r\n        if (contain([CT.PANEL, CT.GRID_HEAD, CT.GRID_CENTER, CT.GRID_LEFT, CT.GRID_RIGHT, CT.GRID_L_C_R,\r\n        CT.PANEL_CONTAINER, CT.GRID_FOOT], type) < 0) {\r\n            return null;\r\n        }\r\n        /*eslint-enable */\r\n\r\n        return type === CT.PANEL ? panel : panel.queryByRole(type);\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getNodesByPanel(panel) {\r\n    if (panel) {\r\n        return {\r\n            panel,\r\n            head: getNode(panel, CT.GRID_HEAD),\r\n            left: getNode(panel, CT.GRID_LEFT),\r\n            right: getNode(panel, CT.GRID_RIGHT),\r\n            center: getNode(panel, CT.GRID_CENTER),\r\n            panelContainer: getNode(panel, CT.PANEL_CONTAINER),\r\n            lcr: getNode(panel, CT.GRID_L_C_R),\r\n            foot: getNode(panel, CT.GRID_FOOT),\r\n        };\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getRealNodesByPanel(panel, id, options) {\r\n    if (panel) {\r\n        const nodes = getNodesByPanel(panel);\r\n\r\n        if (isObject(nodes)) {\r\n            const { head, foot, left, right, center, lcr, panelContainer } = nodes;\r\n            const elements = {\r\n                panel: panel.realDom,\r\n                panelContainer: panelContainer && panelContainer.realDom,\r\n                lcr: lcr && lcr.realDom,\r\n                head: head && head.realDom,\r\n                foot: foot && foot.realDom,\r\n                left: left && left.realDom,\r\n                center: center && center.realDom,\r\n                right: right && right.realDom,\r\n                id: id || panel.getId(),\r\n                isExtend: panel.isExtend,\r\n                alias: getAliasById(options.alias, id),\r\n                size: {\r\n                    width: formatNum(panel.width, 5),\r\n                    height: formatNum(panel.height, 5),\r\n                },\r\n                position: {\r\n                    top: formatNum(panel.top, 5),\r\n                    left: formatNum(panel.left, 5),\r\n                    zIndex: panel.styles.zIndex,\r\n                },\r\n            };\r\n\r\n            return elements;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getRealdomsById(vc, id, o) {\r\n    const realId = getId(id, o.alias),\r\n        panel = vc.getChild(realId);\r\n\r\n    return getRealNodesByPanel(panel, realId, o);\r\n}\r\n\r\nexport function getNodeById(vc, id, type) {\r\n    if (!vc || !id || id <= 0) return null;\r\n    const panel = vc.getChild(id);\r\n\r\n    if (panel) {\r\n        return getNode(panel, type || CT.GRID_CENTER);\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function validateType(type) {\r\n    return !isString(type) ? 'panel' : (type || 'panel').toLowerCase();\r\n}\r\n\r\nexport function setHide(ids, vcontainer, o, showIds) {\r\n    if (!ids || !vcontainer) return;\r\n    const type = showIds ? o.hideType : (o.hideType || 'panel');\r\n\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n    if (isArray(ids)) {\r\n        ids.forEach((id) => {\r\n            const node = getNodeById(vcontainer, getRealIds(vcontainer, id, o.alias), type);\r\n\r\n            if (node) {\r\n                if (node.realDom) {\r\n                    css(node.realDom, {\r\n                        display: 'none',\r\n                    });\r\n                } else {\r\n                    node.setStyle({\r\n                        display: 'none',\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function createZoomContainer(c, options) {\r\n    if (!c || !options || hasClass(c, CT.ZOOMCONTAINER)) return null;\r\n    const z = options.zoom,\r\n        zoomContainer = new Vnode()\r\n            .setRole(CT.ZOOMCONTAINER),\r\n        zoomPane = new Vnode()\r\n            .setRole(CT.ZOOMPANE)\r\n            .addNode(zoomContainer)\r\n            .createElement();\r\n\r\n    c.appendChild(zoomPane);\r\n\r\n    if (z.enable && z.control) {\r\n        const zoomControl = new Vnode()\r\n            .addClassName(CT.EXT_PANE)\r\n            .setRole(CT.EXT_PANE)\r\n            .setWidth(34)\r\n            .setHeight(94)\r\n            .setHtml(`\r\n            <a class=\\'${CT.ZOOMIN}\\' href=\\'javascript:;\\' title=\\'Zoom in\\'>+</a>\r\n            <span class='${CT.ZOOMINFO}' title=\\'Current Scale\\'></span>\r\n            <a class=\\'${CT.ZOOMOUT}\\' href=\\'javascript:;\\' title=\\'Zoom out\\'>-</a>`)\r\n            .createElement(),\r\n            size = '10px';\r\n\r\n        switch (z.position) {\r\n            case 'leftTop':\r\n                css(zoomControl, { top: size, left: size });\r\n                break;\r\n            case 'leftBottom':\r\n                css(zoomControl, { bottom: size, left: size });\r\n                break;\r\n            case 'rightBottom':\r\n                css(zoomControl, { bottom: size, right: size });\r\n                break;\r\n            default:\r\n                css(zoomControl, { right: size, top: size });\r\n                break;\r\n        }\r\n\r\n        c.appendChild(zoomControl);\r\n    }\r\n\r\n    return zoomContainer.realDom;\r\n}\r\n\r\nexport function getComponent(vcontainer, id, classname) {\r\n    if (isNumber(id) && id > 0) {\r\n        const node = vcontainer.getChild(id);\r\n\r\n        if (node && isDOM(node.realDom)) {\r\n            return node.realDom.querySelector(`.${classname}`);\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function isInPoPo(c) {\r\n    return c && c._popo_inner;\r\n}\r\n\r\nfunction veach(vcontainer, fn, ids, context) {\r\n    if (!vcontainer) return;\r\n    if (!ids || ids === 'all') {\r\n        ids = getAllIds(vcontainer);\r\n    }\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n    if (isArray(ids) && ids.length > 0) {\r\n        ids.forEach((id) => {\r\n            const panel = vcontainer.getChild(id);\r\n\r\n            if (panel) {\r\n                if (context) {\r\n                    fn = bind(fn, context);\r\n                }\r\n                if (fn(getNodesByPanel(panel)) === false) {\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateHideIds(showIds, all) {\r\n    let ids = showIds || [];\r\n\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n    if (ids.length > 0) {\r\n        let done = false;\r\n\r\n        ids.forEach((id) => {\r\n            const index = contain(all, id);\r\n\r\n            if (index >= 0) {\r\n                all.splice(index, 1);\r\n                done = true;\r\n            }\r\n        });\r\n        if (done) {\r\n            return all;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function _each(vcontainer, options, fn, ids, context) {\r\n    if (!vcontainer || !options || !isFunction(fn)) return;\r\n    if (ids === 'all') {\r\n        ids = getAllIds(vcontainer);\r\n    }\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n\r\n    if (isArray(ids) && ids.length > 0) {\r\n        ids.forEach((id) => {\r\n            id = getId(id, options.alias);\r\n            if (id > 0) {\r\n                const panel = vcontainer.getChild(id);\r\n\r\n                if (panel && isDOM(panel.realDom)) {\r\n                    const elements = getRealNodesByPanel(panel, id, options);\r\n\r\n                    if (context) {\r\n                        fn = bind(fn, context);\r\n                    }\r\n                    if (fn(elements) === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function _full(vc, id, zIndex) {\r\n    if (id > 0 && vc) {\r\n        const node = vc.getChild(id);\r\n\r\n        if (node) {\r\n            node.oldSize = {\r\n                zIndex: node.styles.zIndex,\r\n                width: node.width,\r\n                height: node.height,\r\n                top: node.top,\r\n                left: node.left,\r\n            };\r\n            node.setWidth(vc.width)\r\n                .setHeight(vc.height)\r\n                .setTop(0)\r\n                .setLeft(0)\r\n                .setStyle({ zIndex })\r\n                .update();\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function _unFull(vcontainer, id) {\r\n    if (isNumber(id) && id > 0) {\r\n        const node = vcontainer.getChild(id);\r\n\r\n        if (node && node.oldSize && node.realDom) {\r\n            node.setStyle({\r\n                zIndex: node.oldSize.zIndex || 1,\r\n            });\r\n            node.width = node.oldSize.width;\r\n            node.height = node.oldSize.height;\r\n            node.top = node.oldSize.top;\r\n            node.left = node.oldSize.left;\r\n            node.update();\r\n            node.oldSize = null;\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function _removeStyle(node, option) {\r\n    if (!node || !option) return;\r\n\r\n    let _class = '',\r\n        _css = null;\r\n\r\n    if (isString(option)) {\r\n        _class = option;\r\n    }\r\n    if (isObject(option) && !isEmptyObject(option)) {\r\n        if (option.classname && isString(option.classname)) {\r\n            _class = option.classname;\r\n        }\r\n        if (isObject(option.css) && !isEmptyObject(option.css)) {\r\n            _css = cloneJsonObject(option.css);\r\n        }\r\n        if (!option.classname && !option.css) {\r\n            _css = cloneJsonObject(option);\r\n        }\r\n    }\r\n    if (_class) {\r\n        if (isDOM(node)) {\r\n            removeClass(node, _class);\r\n        } else {\r\n            node.removeClassName(_class);\r\n            if (node.realDom) {\r\n                removeClass(node.realDom, _class);\r\n            }\r\n        }\r\n    }\r\n    if (_css) {\r\n        for (const key in _css) {\r\n            _css[key] = '';\r\n        }\r\n        if (isDOM(node)) {\r\n            css(node, _css);\r\n        } else {\r\n            node.setStyle(_css);\r\n            if (node.realDom) {\r\n                css(node.realDom, _css);\r\n            }\r\n        }\r\n    }\r\n    if (!isDOM(node) && node.update) {\r\n        node.update();\r\n    }\r\n}\r\n\r\nexport function removeStyle(c, vc, o, style) {\r\n    if (isObject(style)) {\r\n        const { container, custom } = style,\r\n            df = style.default;\r\n\r\n        if (container) {\r\n            _removeStyle(c, container);\r\n        }\r\n        if (isObject(df)) {\r\n            vc.children.forEach((panel) => {\r\n                for (const key in df) {\r\n                    const target = getNodesByPanel(panel)[key];\r\n\r\n                    if (target) {\r\n                        _removeStyle(target, df[key]);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        (isArray(custom) ? custom : [custom]).forEach((com) => {\r\n            if (isObject(com) && com.panels) {\r\n                veach(vc, (elements) => {\r\n                    for (const key in com) {\r\n                        if (com[key] && elements[key]) {\r\n                            _removeStyle(elements[key], com[key]);\r\n                        }\r\n                    }\r\n                }, getRealIds(vc, com.panels, o.alias));\r\n            }\r\n        });\r\n\r\n        vc.update();\r\n    }\r\n}\r\n\r\nexport function _setStyle(node, option, isUpdate, overwrite) {\r\n    if (!node || !option) return;\r\n\r\n    let _class = '',\r\n        _css = null;\r\n\r\n    if (isString(option)) {\r\n        _class = option;\r\n    }\r\n    if (isObject(option) && !isEmptyObject(option)) {\r\n        if (option.classname && isString(option.classname)) {\r\n            _class = option.classname;\r\n        }\r\n        if (isObject(option.css) && !isEmptyObject(option.css)) {\r\n            _css = option.css;\r\n        }\r\n        if (!option.classname && !option.css) {\r\n            _css = option;\r\n        }\r\n    }\r\n    if (_class) {\r\n        if (isDOM(node)) {\r\n            if (isUpdate) {\r\n                if (overwrite) {\r\n                    setClass(node, _class);\r\n                } else {\r\n                    addClass(node, _class);\r\n                }\r\n            }\r\n        } else {\r\n            if (overwrite) {\r\n                node.setClassName(_class);\r\n            } else {\r\n                node.addClassName(_class);\r\n            }\r\n            if (isUpdate && node.realDom) {\r\n                if (overwrite) {\r\n                    setClass(node.realDom, _class);\r\n                } else {\r\n                    addClass(node.realDom, _class);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (_css) {\r\n        if (isDOM(node)) {\r\n            if (isUpdate) {\r\n                css(node, _css);\r\n            }\r\n        } else {\r\n            node.setStyle(_css);\r\n            if (isUpdate && node.realDom) {\r\n                css(node.realDom, _css);\r\n            }\r\n        }\r\n    }\r\n    if (!isDOM(node) && node.update) {\r\n        node.update();\r\n    }\r\n}\r\n\r\nexport function _initStyle(c, vc, zoom, zoomParent, o, styleOption, update) {\r\n    if (!vc || !o) return;\r\n    const style = styleOption || {},\r\n        { custom, inner, zoomContainer, zoomPane, container } = style,\r\n        df = style.default;\r\n\r\n    if (container && update) {\r\n        _setStyle(c, container, true);\r\n    }\r\n\r\n    if (inner) {\r\n        _setStyle(vc, inner);\r\n    }\r\n    if (zoomContainer) {\r\n        _setStyle(zoom, zoomContainer);\r\n    }\r\n    if (zoomPane) {\r\n        _setStyle(zoomParent, zoomPane);\r\n    }\r\n    if (isObject(df)) {\r\n        vc.children.forEach((panel) => {\r\n            for (const key in df) {\r\n                _setStyle(getNodesByPanel(panel)[key], df[key], true);\r\n            }\r\n        });\r\n    }\r\n    if (custom) {\r\n        (isArray(custom) ? custom : [custom]).forEach((com) => {\r\n            if (isObject(com) && com.panels) {\r\n                veach(vc, (elements) => {\r\n                    for (const key in com) {\r\n                        if (com[key] && elements[key] && !(elements[key].isExtend)) {\r\n                            _setStyle(elements[key], com[key], true, true);\r\n                        }\r\n                    }\r\n                }, getRealIds(vc, com.panels, o.alias));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateStyle(c, vc, zoom, zoomParent, o, styleOption, isExtend) {\r\n    if (!vc || !o) return;\r\n    const style = styleOption || {},\r\n        { container, custom, inner, zoomContainer, zoomPane } = style,\r\n        df = style.default;\r\n\r\n    if (container) {\r\n        _setStyle(c, container, true);\r\n    }\r\n\r\n    if (inner) {\r\n        _setStyle(vc, inner, true);\r\n    }\r\n\r\n    if (zoomContainer) {\r\n        _setStyle(zoom, zoomContainer, true);\r\n    }\r\n\r\n    if (zoomPane) {\r\n        _setStyle(zoomParent, zoomPane, true);\r\n    }\r\n    if (isObject(df)) {\r\n        vc.children.forEach((panel) => {\r\n            for (const key in df) {\r\n                _setStyle(getNodesByPanel(panel)[key], df[key], true);\r\n            }\r\n        });\r\n    }\r\n    if (custom) {\r\n        (isArray(custom) ? custom : [custom]).forEach((com) => {\r\n            if (isObject(com) && com.panels) {\r\n                veach(vc, (elements) => {\r\n                    for (const key in com) {\r\n                        if (com[key] && elements[key]) {\r\n                            _setStyle(elements[key], com[key], true, false);\r\n                        }\r\n                    }\r\n                }, getRealIds(vc, com.panels, o.alias));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function removeGuidelines(container) {\r\n    if (isDOM(container)) {\r\n        const gd = container.querySelector(`.${CT.GUIDELINES}`);\r\n\r\n        if (isDOM(gd)) {\r\n            gd.parentNode.removeChild(gd);\r\n        }\r\n    }\r\n}\r\n\r\n/*eslint-disable */\r\nfunction getNewSize(old, percent, vsize, vvsize, totalSize) {\r\n    return old !== undefined ? (percent !== null ? percent * totalSize : vsize) : vvsize;\r\n}\r\n/*eslint-enable*/\r\n\r\nfunction setNodeLayout(vnode, vvnode, size, fullId, fullzIndex) {\r\n    if ((vvnode.width !== undefined || vvnode.width !== null) && !vnode.isExtend) {\r\n        const { _oldWidth, _oldHeight, _oldTop, _oldLeft,\r\n            width, height, top, left,\r\n            percentWidth, percentHeight, percentLeft, percentTop } = vnode;\r\n\r\n        vnode\r\n            .setHeight(getNewSize(_oldHeight, percentHeight, height, vvnode.height, size.height))\r\n            .setWidth(getNewSize(_oldWidth, percentWidth, width, vvnode.width, size.width))\r\n            .setTop(getNewSize(_oldTop, percentTop, top, vvnode.top, size.height))\r\n            .setLeft(getNewSize(_oldLeft, percentLeft, left, vvnode.left, size.width));\r\n    }\r\n\r\n    if (vvnode.oldSize) {\r\n        vnode.oldSize = vvnode.oldSize;\r\n        vnode.setStyle({\r\n            zIndex: vvnode.styles.zIndex || CT.PANEL_DEFAULT_ZINDEX,\r\n        });\r\n    }\r\n    if (fullId > 0 && vnode.getId() === fullId) {\r\n        vnode.setLeft(0).setTop(0).setStyle({\r\n            zIndex: fullzIndex,\r\n        });\r\n    }\r\n}\r\n\r\nfunction updateOldVc(vnode, vvnode, size, o, fullId, fullzIndex) {\r\n    setNodeLayout(vnode, vvnode, size, fullId, fullzIndex);\r\n    vnode.children.forEach((vn) => {\r\n        vvnode.children.forEach((vvn) => {\r\n            if (vn.getId() === vvn.getId() && vnode.getRole() !== CT.PANEL) {\r\n                setNodeLayout(vn, vvn, size, fullId, fullzIndex);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction _setOverflow(vc, ids, type) {\r\n    if (!vc || !ids || !type) return;\r\n    if (isNumber(ids)) {\r\n        ids = [ids];\r\n    }\r\n    if (isArray(ids)) {\r\n        ids.forEach((id) => {\r\n            const panel = getNodeById(vc, id, 'wrap');\r\n            let style = null;\r\n\r\n            if (panel) {\r\n                if (type === 'auto' || type === 'visible') {\r\n                    style = { overflow: type };\r\n                }\r\n                if (type === 'overflowX' || type === 'overflowY') {\r\n                    style[type] = 'auto';\r\n                }\r\n\r\n                panel.setStyle(style).update();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function setOverflows(vc, o) {\r\n    if (!vc || !o || !o.panelOverflow) return;\r\n    const overflow = o.panelOverflow;\r\n\r\n    if (overflow) {\r\n        for (const key in overflow) {\r\n            if (overflow[key] === 'all') {\r\n                overflow[key] = getAllIds(vc);\r\n            }\r\n            if (isNumber(overflow[key]) || isArray(overflow[key])) {\r\n                _setOverflow(vc, overflow[key], key);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateContainerSize(vc, o) {\r\n    const { left, right, bottom, top } = o.padding;\r\n\r\n    return {\r\n        width: vc.width + left + right,\r\n        height: vc.height + top + bottom,\r\n    };\r\n}\r\n\r\nexport function updateVCC(vc, c, sizes, o, fullId, zIndex) {\r\n    if (!vc || !isDOM(c) || !sizes || !o) return;\r\n\r\n    const vcc = createVc(),\r\n        panels = [],\r\n        ids = [];\r\n\r\n    initLayout(o, vcc);\r\n\r\n    updateLayout(vcc, c, sizes, o, panels, ids);\r\n\r\n    loadExtends(vcc, o, false);\r\n\r\n    if (fullId) {\r\n        _full(vcc, fullId, zIndex || 0);\r\n    }\r\n\r\n    updateOldVc(vc, vcc, updateContainerSize(vcc, o), o, fullId, zIndex);\r\n\r\n    updateExtends(vc, o);\r\n\r\n    vc.update();\r\n\r\n    if (o.dev.enable) {\r\n        loadDev(c, vc, o);\r\n    }\r\n\r\n    setLineheight(vc, o.lineHeight);\r\n}\r\n\r\nfunction _setNodeLineHeight(target) {\r\n    if (target && target.realDom) {\r\n        const { realDom } = target,\r\n            height = getPureStyle(realDom, 'height') || realDom.clientHeight,\r\n            pt = getPureStyle(realDom, 'padding-top'),\r\n            pb = getPureStyle(realDom, 'padding-bottom'),\r\n            bt = getPureStyle(realDom, 'border-top-width'),\r\n            bb = getPureStyle(realDom, 'border-bottom-width');\r\n\r\n        target.setStyle({ lineHeight: `${height - pt - pb - bt - bb}px` }).update();\r\n    }\r\n}\r\n\r\nexport function setLineheight(vc, option) {\r\n    if (!vc || !option) return;\r\n    const op = isObject(option) ? [option] : option;\r\n\r\n    if (isArray(op)) {\r\n        op.forEach((o) => {\r\n            let panels = o.panels;\r\n            const type = o.type || 'head';\r\n\r\n            if (isNumber(panels)) {\r\n                panels = [panels];\r\n            }\r\n            if (isString(panels) && panels === 'all') {\r\n                panels = getAllIds(vc);\r\n            }\r\n            if (isArray(panels)) {\r\n                veach(vc, (nodes) => {\r\n                    (isArray(type) ? type : [type]).forEach((t) => {\r\n                        if (isString(t) && nodes) {\r\n                            if (t === 'all') {\r\n                                ['head', 'center', 'right', 'foot', 'left'].forEach((_t) => {\r\n                                    _setNodeLineHeight(nodes[_t]);\r\n                                });\r\n                            } else {\r\n                                _setNodeLineHeight(nodes[t]);\r\n                            }\r\n                        }\r\n                    });\r\n                }, panels);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction insertTplDomToVc(target, vnode, type) {\r\n    if (isDOM(target) && attr(target, CT.TARGET) === type && vnode && vnode.realDom) {\r\n        vnode.realDom.appendChild(target);\r\n    }\r\n}\r\n\r\nexport function loadTemplate(c, vc, o) {\r\n    if (!isDOM(c) || !vc || !isDOM(vc.realDom) || !o) return;\r\n    eachChild(c, (node) => {\r\n        if (isDOM(node) && node.hasAttribute(CT.POPO)) {\r\n            const id = getRealIds(vc, node.getAttribute(CT.POPO), o.alias),\r\n                panel = getNodeById(vc, id, 'panel'),\r\n                title = node.getAttribute('title'),\r\n                cls = node.getAttribute('class');\r\n\r\n            if (panel && panel.realDom) {\r\n                const els = getNodesByPanel(panel);\r\n\r\n                addClass(panel.realDom, cls);\r\n                eachChild(node, (target) => {\r\n                    for (const key in els) {\r\n                        if (key !== 'panel' && els[key]) {\r\n                            insertTplDomToVc(target, els[key], key);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if (!query(node, `[${CT.TARGET}=head]`) && title && els.head\r\n                    && els.head.realDom && !els.head.realDom.hasChildNodes()) {\r\n                    els.head.realDom.innerHTML = title;\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function restorePanelTemplate(panel, c, vc, o) {\r\n    if (!panel || !isDOM(panel.realDom) || !isDOM(c) || !vc || !o) return;\r\n    eachChild(c, (node) => {\r\n        if (isDOM(node) && node.hasAttribute(CT.POPO)) {\r\n            const id = getRealIds(vc, node.getAttribute(CT.POPO), o.alias);\r\n\r\n            if (panel.getId() === id) {\r\n                const nodes = getNodesByPanel(panel);\r\n\r\n                for (const type in nodes) {\r\n                    if (nodes[type] && nodes[type].realDom) {\r\n                        const target = nodes[type].realDom.firstChild;\r\n\r\n                        if (isDOM(target) && type === target.getAttribute(CT.TARGET)) {\r\n                            node.appendChild(target);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    });\r\n}\r\n\r\nexport function restoreTemplate(c, vc, o) {\r\n    if (!isDOM(c) || !vc || !isDOM(vc.realDom) || !o) return;\r\n    eachChild(c, (node) => {\r\n        if (isDOM(node) && node.hasAttribute(CT.POPO)) {\r\n            const id = getRealIds(vc, node.getAttribute(CT.POPO), o.alias),\r\n                panel = getNodeById(vc, id, 'panel');\r\n\r\n            if (panel && panel.realDom) {\r\n                const nodes = getNodesByPanel(panel);\r\n\r\n                for (const type in nodes) {\r\n                    if (nodes[type] && nodes[type].realDom) {\r\n                        const target = nodes[type].realDom.firstChild;\r\n\r\n                        if (isDOM(target) && type === target.getAttribute(CT.TPL)) {\r\n                            target.removeAttribute(CT.TPL);\r\n                            addClass(target, type);\r\n                            node.appendChild(target);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function getScrollPane(o, c, init) {\r\n    /*eslint-disable */\r\n    const target = o.zoom.enable ? c.parentNode.parentNode : c.parentNode;\r\n    /*eslint-enable */\r\n\r\n    if (init && isDOM(target)) {\r\n        target.scrollLeft = 0;\r\n        target.scrollTop = 0;\r\n    }\r\n\r\n    return target;\r\n}\r\n\r\nexport function focusOn(vc, c, o, id, offsetX, offsetY) {\r\n    if (!vc || !c || !o || !id < 0) return;\r\n\r\n    const panel = getNodeById(vc, getId(id, o.alias), 'panel');\r\n\r\n    if (panel) {\r\n        const pane = getScrollPane(o, c, true),\r\n            scale = o.zoom.enable ? o.zoom.scale : 1;\r\n\r\n        if (pane && isDOM(pane)) {\r\n            pane.scrollLeft = (panel.left + offsetX) * scale;\r\n            pane.scrollTop = (panel.top + offsetY) * scale;\r\n        }\r\n    }\r\n}\r\n\r\nexport function zoomUpdate(vc, c, scale) {\r\n    if (!vc || !c || !scale) return;\r\n    const rect = getRect(c.parentNode.parentNode),\r\n        width = (c._origionWidth || vc.width),\r\n        height = (c._origionHeight || vc.height);\r\n\r\n    let top = (rect.height - (height * scale)) / 2,\r\n        left = (rect.width - (width * scale)) / 2;\r\n\r\n    if (top < 0 || scale === 1) top = 0;\r\n    if (left < 0 || scale === 1) left = 0;\r\n\r\n    css(c.parentNode, {\r\n        paddingTop: `${top}px`,\r\n        paddingLeft: `${left}px`,\r\n    });\r\n}\r\n\r\nexport function togglePoPo(c, show) {\r\n    const display = show ? '' : 'none';\r\n\r\n    eachChild(c, (node) => {\r\n        if (isDOM(node) && node.getAttribute(CT.POPO)) {\r\n            css(node, { display });\r\n        }\r\n    });\r\n}","import { isDOM, isObject } from '../../utils/util';\r\nimport * as DomEvent from '../../dom/dom_event';\r\nimport { css, getPureStyle } from '../../dom/dom';\r\nimport { getScrollPane } from '../core/popo';\r\n\r\nexport default {\r\n\r\n    /**\r\n     * Start drag\r\n     * @ignore\r\n     * @param {Object} e mouse event param\r\n     */\r\n    _onDragStart(e) {\r\n        DomEvent.stop(e);\r\n        const pane = this._scrollPane;\r\n\r\n        if (isDOM(pane)) {\r\n            const { clientX, clientY } = e,\r\n                { scrollLeft, scrollTop } = pane;\r\n\r\n            this._startDrag = {\r\n                x: clientX,\r\n                y: clientY,\r\n                width: getPureStyle(pane, 'width'),\r\n                height: getPureStyle(pane, 'height'),\r\n                left: scrollLeft,\r\n                top: scrollTop,\r\n            };\r\n            css(pane, { cursor: 'move' });            \r\n            DomEvent.on(pane, 'mousemove', this._onDragging, this);\r\n            DomEvent.on(pane, 'mouseup', this._onDragend, this);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Dragging\r\n     * @ignore\r\n     * @param {Object} e mouse event param\r\n     */\r\n    /*eslint-disable */\r\n    _onDragging(e) {\r\n        // DomEvent.stop(e);\r\n        const pane = this._scrollPane,\r\n            dr = this._startDrag;\r\n\r\n        if (isDOM(pane) && isObject(dr)) {\r\n            pane.scrollLeft = (dr.left || 0) - e.clientX + dr.x;\r\n            pane.scrollTop = (dr.top || 0) - e.clientY + dr.y;\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * End drag\r\n     * @ignore\r\n     * @param {Object} e mouse event param\r\n     */\r\n    _onDragend(e) {\r\n        // DomEvent.stop(e);\r\n        DomEvent.off(this._scrollPane, 'mousemove', this._onDragging, this);\r\n    },\r\n    /*eslint-enable */\r\n\r\n    /**\r\n     * Disable mouse drag\r\n     */\r\n    disableDrag() {\r\n        const pane = this._scrollPane;\r\n\r\n        if (isDOM(pane)) {\r\n            DomEvent.off(pane, 'mousedown', this._onDragStart, this);\r\n            DomEvent.off(pane, 'mousemove', this._onDragging, this);\r\n            DomEvent.off(pane, 'mouseup', this._onDragend, this);\r\n            this._startDrag = null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Enable drag on container and start drag\r\n     */\r\n    enableDrag() {\r\n        const o = this.options;\r\n\r\n        if (o.drag && this._pane) {\r\n            const dragPane = getScrollPane(o, this._pane);\r\n\r\n            if (isDOM(dragPane)) {\r\n                this._scrollPane = dragPane;\r\n                // this.disableDrag();\r\n                DomEvent.on(dragPane, 'mousedown', this._onDragStart, this);\r\n            }\r\n        }\r\n    },\r\n\r\n};\r\n","import * as DomEvent from '../../dom/dom_event';\r\nimport { bind, throttle } from '../../utils/util';\r\nimport { zoomUpdate } from '../core/popo';\r\n\r\nexport default {\r\n\r\n    /**\r\n     * Add container resize event on window resize\r\n     * @ignore.\r\n     */\r\n    _resize() {\r\n        const o = this.options,\r\n            c = this._pane,\r\n            vc = this.vc,\r\n            ui = o.updateInterval;\r\n\r\n        if (!this._onResize && o.trackResize) {\r\n            const interval = o.renderDelay > 0 ? Math.max(ui, o.renderDelay) : ui;\r\n            // const interval = ui;\r\n\r\n            this._onResize = throttle((_fn, _context) => {\r\n                if (!o.trackResize) return;\r\n                if (o.zoom.enable) {\r\n                    zoomUpdate(vc, c, this.scale);\r\n                } else {\r\n                    this.update();\r\n                    if (typeof o.update === 'function') {\r\n                        o.update(this);\r\n                    }\r\n                    if (typeof _fn === 'function') {\r\n                        bind(_fn, _context)(this);\r\n                    }\r\n                }\r\n            }, interval, this);\r\n            DomEvent.on(window, 'resize', this._onResize, this);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Remove resize event listener\r\n     * @ignore\r\n     */\r\n    _removeResize() {\r\n        if (this._onResize) {\r\n            DomEvent.off(window, 'resize', this._onResize, this);\r\n            this._onResize = null;\r\n        }\r\n    },\r\n};\r\n","import * as DomEvent from '../../dom/dom_event';\r\nimport { getScrollPane } from '../core/popo';\r\nimport CT from '../../constant/constant';\r\n\r\nexport default {\r\n    /**\r\n     * wheel zoom handle\r\n     * @ignore\r\n     */\r\n    _performZoom() {\r\n        const ratio = this.options.zoom.ratio;\r\n\r\n        this.zoom(this.scale + (this._wheelScroll.delta > 0 ? ratio : -ratio));\r\n    },\r\n\r\n    /**\r\n     * Wheel scrolling\r\n     * @ignore\r\n     * @param {Object} e wheel event param\r\n     */\r\n    _onWheelScroll(e) {\r\n        DomEvent.stop(e);\r\n        const delta = DomEvent.getWheelDelta(e),\r\n            time = this._wheelScroll.startTime;\r\n\r\n        /*eslint-disable */\r\n        this._wheelScroll.delta = delta;\r\n        if (!time) {\r\n            this._wheelScroll.startTime = +new Date();\r\n        }\r\n        const left = Math.max(CT.DEBOUNCE - (+new Date() - time), 0);\r\n        /*eslint-enable */\r\n\r\n        clearTimeout(this._wheelScroll.timer);\r\n\r\n        this._wheelScroll.timer = setTimeout(() => {\r\n            this._performZoom();\r\n        }, left);\r\n    },\r\n\r\n    enableScrollWheel() {\r\n        this.disableScrollWheel();\r\n\r\n        if (!this._scrollPane) {\r\n            this._scrollPane = getScrollPane(this.options, this._pane);\r\n        }\r\n        this._wheelScroll = {\r\n            delta: 0,\r\n            startTime: 0,\r\n            timer: 0,\r\n        };\r\n        DomEvent.on(this._scrollPane, 'mousewheel', this._onWheelScroll, this);\r\n    },\r\n\r\n    disableScrollWheel() {\r\n        if (this._scrollPane) {\r\n            DomEvent.off(this._scrollPane, 'mousewheel', this._onWheelScroll, this);\r\n        }\r\n    },\r\n};\r\n","import {\r\n    isNumber, isArray, isDOM, isObject, contain, legalNumber, get, merge, formatMargin,\r\n    mixins, formatNum, isPercentage, translatePercentage, isEmptyObject, isString,\r\n} from '../utils/util';\r\nimport {\r\n    css, getStyle, isHidden, query,\r\n    removeByRole, getTargetDataId, TRANSFORM, getRect, getPureStyle,\r\n} from '../dom/dom';\r\nimport { initSize, updateLayout, initLayoutSet, initLayout } from './core/layout';\r\nimport { addPanels, addLayoutToPanel } from './core/panel';\r\nimport CT from '../constant/constant';\r\nimport ERROR_MSG from '../constant/error';\r\nimport defaultOptions from './options/popo';\r\nimport defaultStyle from './options/style';\r\nimport {\r\n    createPane,\r\n    createVc,\r\n    stampInner,\r\n    isInPoPo,\r\n    setHide,\r\n    getNodeById,\r\n    updateHideIds,\r\n    _each,\r\n    _full,\r\n    _unFull,\r\n    _setStyle,\r\n    _initStyle,\r\n    updateStyle,\r\n    removeStyle,\r\n    vcToDom,\r\n    updateVCC,\r\n    loadTemplate,\r\n    restoreTemplate,\r\n    restorePanelTemplate,\r\n    setLineheight,\r\n    setOverflows,\r\n    loadExtends,\r\n    addExtend,\r\n    getRealIds,\r\n    focusOn,\r\n    getRealdomsById,\r\n    createZoomContainer,\r\n    getAllIds,\r\n    togglePoPo,\r\n    getAliasById,\r\n    updateContainerSize,\r\n} from './core/popo';\r\n\r\nimport { loadDev } from './core/dev';\r\n\r\nimport dragHandle from './handle/drag';\r\nimport resize from './handle/resize';\r\nimport wheelzoom from './handle/wheelzoom';\r\nimport * as DomEvent from '../dom/dom_event';\r\n\r\n/**\r\n * PoPoInstance\r\n * @class\r\n */\r\nexport default class PoPoInstance {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {Object} options options\r\n     */\r\n    constructor(options) {\r\n        const o = this.options = merge(defaultOptions, options),\r\n            c = this.container = o.container ? get(o.container) : null;\r\n\r\n        this._initOptions();\r\n\r\n        this._fullId = o.fullId;\r\n\r\n        this._fullZIndex = o.fullZIndex || 0;\r\n\r\n        this._hideIds = o.hideIds || [];\r\n\r\n        this._showIds = o.dev.showIds || [];\r\n\r\n        this.style = merge(defaultStyle, o.style || {});\r\n\r\n        this._sizes = initSize(o.rows, o.cols);\r\n\r\n        this._vc = createVc();\r\n\r\n        if (initLayoutSet(o)) {\r\n            initLayout(o, this._vc);\r\n            if (isDOM(c)) {\r\n                this._initContainer();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialization options\r\n     * @ignore\r\n     */\r\n    _initOptions() {\r\n        const o = this.options,\r\n            scale = legalNumber(o.fontScale, 0.1);\r\n\r\n        o.padding = formatMargin(o.padding, scale);\r\n\r\n        if (isObject(o.panel.custom)) {\r\n            o.panel.custom = [o.panel.custom];\r\n        }\r\n        if (isArray(o.panel.custom)) {\r\n            o.panel.custom = o.panel.custom.map((panel) => merge({\r\n                headHeight: 0,\r\n                footHeight: 0,\r\n                leftWidth: 0,\r\n                rightWidth: 0,\r\n                gutter: 0,\r\n                zIndex: CT.PANEL_DEFAULT_ZINDEX,\r\n            }, panel));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialization container\r\n     * @ignore\r\n     */\r\n    _initContainer() {\r\n        const vc = this._vc,\r\n            c = this.container,\r\n            o = this.options,\r\n            sizes = this._sizes;\r\n\r\n        if (vc && c && o && sizes) {\r\n            // Mark container if it is in another popo instance.\r\n            stampInner(c);\r\n\r\n            this._oldContainerStyle = {\r\n                display: getStyle(c, 'display'),\r\n            };\r\n\r\n            // Set container position when zoom on.\r\n            if (getStyle(c, 'position') === 'static' && o.zoom.enable) {\r\n                // save origin container style state\r\n                this._oldContainerStyle.position = 'static';\r\n                css(c, { position: 'relative' });\r\n            }\r\n\r\n            // Hide data-popo elements in container.\r\n            togglePoPo(c, false);\r\n\r\n            // Add custom style to container\r\n            const { style } = this;\r\n\r\n            if (style) {\r\n                _setStyle(c, style.container, true);\r\n            }\r\n\r\n            // Nest PoPo resize update interval.\r\n            if (isInPoPo(c)) {\r\n                o.updateInterval += 50;\r\n            }\r\n\r\n            // Create Zoom Container and Pane\r\n            const zoomContainer = this._zoomContainer = createZoomContainer(c, o),\r\n                scroll = o.scroll,\r\n                _style = {},\r\n                p = this._pane = createPane(o);\r\n\r\n            // If zoom mode on, drag option auto enable.\r\n            if (o.zoom.enable) { o.drag = true; }\r\n\r\n            // Set zoom container and zoom pane overflow and scroll.\r\n            if (o.zoom.enable || o.overflowVisible) {\r\n                _style.overflow = 'visible';\r\n            } else if (scroll.x && scroll.y) {\r\n                _style.overflow = 'auto';\r\n            } else if (scroll.x && !scroll.y) {\r\n                _style.overflowX = 'auto';\r\n                _style.overflowY = 'hidden';\r\n            } else if (!scroll.x && scroll.y) {\r\n                _style.overflowY = 'auto';\r\n                _style.overflowX = 'hidden';\r\n            }\r\n            css(zoomContainer, _style);\r\n            css(zoomContainer.parentNode, {\r\n                overflow: o.overflowVisible ? 'visible' : 'hidden',\r\n            });\r\n\r\n            // Sign Nest PoPo\r\n            // stampInner(p);\r\n\r\n            zoomContainer.appendChild(p);\r\n\r\n            // Update layout\r\n            updateLayout(vc, p, sizes, o, this._vpanels = []);\r\n\r\n            // Add Panel Layout\r\n            if (o.panel && o.panel.enable) {\r\n                addPanels(vc, o);\r\n            }\r\n\r\n            // Add extends panel\r\n            loadExtends(vc, o, true);\r\n\r\n            // Set Panel Overflow style.\r\n            setOverflows(vc, o);\r\n\r\n            // Full the select full panel\r\n            if (this._fullId) {\r\n                _full(vc, this._getId(this._fullId), this._fullZIndex);\r\n            }\r\n\r\n            css(c, { display: 'none' });\r\n\r\n            // Update style\r\n            _initStyle(c, vc, zoomContainer, zoomContainer.parentNode, o, this.style);\r\n\r\n            this._render();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prepare render\r\n     * @ignore\r\n     */\r\n    _render() {\r\n        const c = this._pane,\r\n            o = this.options;\r\n\r\n        if (c && o) {\r\n            let delay = o.renderDelay;\r\n\r\n            if (delay > 0 && o.updateInterval > 0) {\r\n                delay = Math.max(delay, o.updateInterval);\r\n            }\r\n            if (delay > 0) {\r\n                setTimeout(() => {\r\n                    this._onRender();\r\n                }, delay || 0);\r\n            } else {\r\n                this._onRender();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rendering\r\n     * @ignore\r\n     */\r\n    _onRender() {\r\n        const vc = this._vc,\r\n            c = this.container,\r\n            pane = this._pane,\r\n            o = this.options;\r\n\r\n        if (c && vc && o) {\r\n            const ids = this._showIds;\r\n\r\n            if (ids) {\r\n                this._hideIds = updateHideIds(ids, this.getIds()) || this._hideIds;\r\n            }\r\n            setHide(this._hideIds, vc, o, ids && ids.length > 0);\r\n\r\n            pane.appendChild(vcToDom(vc));\r\n\r\n            if (o.dev.enable) {\r\n                loadDev(pane, vc, o);\r\n            }\r\n\r\n            loadTemplate(c, vc, o);\r\n\r\n            this._resize();\r\n\r\n            css(c, {\r\n                display: this._oldContainerStyle.display,\r\n            });\r\n\r\n            this._updateSize();\r\n\r\n            if (o.zoom.enable) {\r\n                const scale = legalNumber(o.zoom.scale, CT.MIN_ZOOM, CT.MAX_ZOOM);\r\n\r\n                this._initZoomEvent();\r\n                this.zoom(scale);\r\n                if (o.zoom.wheelZoom) {\r\n                    this.enableScrollWheel();\r\n                }\r\n            }\r\n\r\n            if (o.drag) {\r\n                this.enableDrag();\r\n            }\r\n\r\n            if (o.focus.id) {\r\n                const { id, offsetX, offsetY } = o.focus;\r\n\r\n                this.focus(id, offsetX, offsetY);\r\n            }\r\n\r\n            setLineheight(vc, o.lineHeight);\r\n\r\n            if (o.onload && typeof o.onload === 'function') {\r\n                o.onload(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialization zoom event.\r\n     * @ignore\r\n     */\r\n    _initZoomEvent() {\r\n        const o = this.options,\r\n            c = this.container,\r\n            zoom = o.zoom;\r\n\r\n        if (zoom.enable && zoom.control) {\r\n            const zoomin = query(c, `.${CT.ZOOMIN}`),\r\n                zoomout = query(c, `.${CT.ZOOMOUT}`),\r\n                ratio = zoom.ratio;\r\n\r\n            this._zoomInfoPane = query(c, `.${CT.ZOOMINFO}`);\r\n\r\n            if (isDOM(zoomin) && isDOM(zoomout)) {\r\n                DomEvent.on(zoomin, 'click', () => {\r\n                    this.zoom(this.scale + ratio);\r\n                }, this);\r\n\r\n                DomEvent.on(zoomout, 'click', () => {\r\n                    this.zoom(this.scale - ratio);\r\n                }, this);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get component real id.\r\n     * @param {String|Number} id panel id or alias.\r\n     * @return {Array} component ids\r\n     */\r\n    _getId(id) {\r\n        return isNumber(id) ? id : getRealIds(this._vc, id, this.options.alias);\r\n    }\r\n\r\n    /**\r\n     * Get vnode by id and type.\r\n     * @ignore\r\n     * @param {String|Number} id panel id or alias\r\n     * @param {String} type component type:panel, panelContainer, lcr, center,left, right, head, foot @default panel\r\n     * @return {VNode} vnode\r\n     */\r\n    _getNode(id, type) {\r\n        return getNodeById(this._vc, this._getId(id), type || CT.PANEL);\r\n    }\r\n\r\n    /**\r\n     * Get Option\r\n     * @return {Object} option\r\n     */\r\n    getOption() {\r\n        return this.options;\r\n    }\r\n\r\n    /**\r\n     * Get Panel count\r\n     * @return {Number} panel count\r\n     */\r\n    getPanelCount() {\r\n        return this.getIds().length;\r\n    }\r\n\r\n    /**\r\n     * Get all panel id.\r\n     * @return {Array} ids array\r\n     */\r\n    getIds() {\r\n        return getAllIds(this._vc);\r\n    }\r\n\r\n    /**\r\n     * @Get component alias\r\n     * @return {Array} alias\r\n     */\r\n    getAliasName() {\r\n        const alias = this.options.alias;\r\n\r\n        if (alias && isArray(alias)) {\r\n            return alias.map((a) => a.name);\r\n        }\r\n\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * Get component alias\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {Array|String} component alias\r\n     */\r\n    getAlias(target) {\r\n        const alias = this.options.alias;\r\n\r\n        if (target === undefined) {\r\n            return alias;\r\n        }\r\n        const result = (isArray(target) ? target : [target]).map((t) => getAliasById(alias, getTargetDataId(t)));\r\n\r\n        return result.length === 1 ? result[0] : result;\r\n    }\r\n\r\n    /**\r\n     * Get screen container\r\n     * @return {HTMLElement} app container\r\n     */\r\n    getContainer() {\r\n        return this.container;\r\n    }\r\n\r\n    /**\r\n     * Zoom screen\r\n     * @param {Number} scale scale\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    zoom(scale) {\r\n        const c = this._pane,\r\n            vc = this._vc,\r\n            o = this.options,\r\n            preview = this._zoomContainer,\r\n            width = this.$width(),\r\n            height = this.$height(),\r\n            style = {};\r\n\r\n        if (!o.zoom.enable || !isNumber(scale) || this.scale === scale || !vc || !c || !o) return this;\r\n\r\n        this.scale = scale = legalNumber(scale, o.zoom.min, o.zoom.max);\r\n        if (isDOM(this._zoomInfoPane)) {\r\n            this._zoomInfoPane.innerHTML = formatNum(scale, 1);\r\n        }\r\n\r\n        style[TRANSFORM] = `scale(${scale})`;\r\n        css(c, style);\r\n\r\n        /*eslint-disable */\r\n        const rect = getRect(preview.parentNode);\r\n        /*eslint-enable */\r\n\r\n        let top = (rect.height - (height * scale)) / 2,\r\n            left = (rect.width - (width * scale)) / 2;\r\n\r\n        if (top < 0 || scale === 1) top = 0;\r\n        if (left < 0 || scale === 1) left = 0;\r\n\r\n        css(preview, {\r\n            width: `${width * scale}px`,\r\n            height: `${height * scale}px`,\r\n            paddingTop: `${top}px`,\r\n            paddingLeft: `${left}px`,\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Focus On Panel\r\n     * @param {Number | String} id panel id or alias\r\n     * @param {Number} offsetX offsetX\r\n     * @param {Number} offsetY offsetY\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    focus(id, offsetX, offsetY) {\r\n        focusOn(this._vc, this._pane, this.options, id, offsetX || 0, offsetY || 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get elements\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {Object} elements, include panel, panelContainer, lcr, center,left, right, head, foot\r\n     */\r\n    get(target) {\r\n        if (!target) return null;\r\n\r\n        const result = (!isArray(target) ? [target] : target).map((t) =>\r\n            getRealdomsById(this._vc, getTargetDataId(t), this.options));\r\n\r\n        return result.length === 1 ? result[0] : result;\r\n    }\r\n\r\n    /**\r\n     * Get all elements\r\n     * @return {Array} all elements.\r\n     */\r\n    getAll() {\r\n        return this.get(this.getIds());\r\n    }\r\n\r\n    /**\r\n     * Get component\r\n     * @ignore\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @param {String} type component type: panel, panelContainer, lcr, center,head, left, right, foot\r\n     * @return {HTMLElement} component container\r\n     */\r\n    _getXComponent(target, type) {\r\n        const result = this.get(target);\r\n\r\n        return isArray(result) ? result.map((r) => r && r[type]) : result && result[type];\r\n    }\r\n\r\n    /**\r\n     * get panel container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} wrap container\r\n     */\r\n    panel(target) {\r\n        return this._getXComponent(target, 'panel');\r\n    }\r\n\r\n    /**\r\n     * get wrap container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} wrap container\r\n     */\r\n    wrap(target) {\r\n        return this._getXComponent(target, 'wrap');\r\n    }\r\n\r\n    /**\r\n     * get center container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} center container\r\n     */\r\n    center(target) {\r\n        return this._getXComponent(target, 'center');\r\n    }\r\n\r\n    /**\r\n     * get head container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} head container\r\n     */\r\n    head(target) {\r\n        return this._getXComponent(target, 'head');\r\n    }\r\n\r\n    /**\r\n     * get left container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} left container\r\n     */\r\n    left(target) {\r\n        return this._getXComponent(target, 'left');\r\n    }\r\n\r\n    /**\r\n     * get right container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} right container\r\n     */\r\n    right(target) {\r\n        return this._getXComponent(target, 'right');\r\n    }\r\n\r\n    /**\r\n     * get foot container\r\n     * @param {String|Number|HTMLElement|Array} target panel id , map key, panel dom and their by array.\r\n     * @return {HTMLElement} foot container\r\n     */\r\n    foot(target) {\r\n        return this._getXComponent(target, 'foot');\r\n    }\r\n\r\n    /**\r\n     * Clear Panel\r\n     * @param {String|Number|HTMLElement|Array} target panel id or alias, or panel dom.\r\n     * @param {Boolean} clearTpl if true will delete template content\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    clearPanel(target, clearTpl) {\r\n        if (target) {\r\n            (!isArray(target) ? [target] : target).forEach((t) => {\r\n                const node = this._getNode(getTargetDataId(t));\r\n\r\n                if (node) {\r\n                    if (!clearTpl) {\r\n                        restorePanelTemplate(node, this.container, this._vc, this.options);\r\n                    }\r\n                    node.clear();\r\n                    node.update();\r\n                }\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Clear all panels.\r\n     * @param {Boolean} clearTpl if true will delete template content\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    clearAllPanel(clearTpl) {\r\n        return this.clearPanel(this._vpanels, clearTpl);\r\n    }\r\n\r\n    /**\r\n     * Set Panel Layout\r\n     * @param {Object} option panel layout options\r\n     */\r\n    _setPanel({ panels, headHeight = 0, footHeight = 0, leftWidth = 0, rightWidth = 0, gutter = 0 }) {\r\n        const o = this.options.panel;\r\n\r\n        if (!panels) return;\r\n        if (!isArray(panels)) { panels = [panels]; }\r\n        if (!o.custom) {\r\n            o.custom = [];\r\n        }\r\n        if (isObject(o.custom)) {\r\n            o.custom = [o.custom];\r\n        }\r\n        if (isArray(o.custom)) {\r\n            this.clearPanel(panels);\r\n            const nodes = panels.map((id) => this._getNode(getTargetDataId(id)));\r\n\r\n            o.custom.forEach((c, i) => {\r\n                if (c.panels === panels) {\r\n                    o.custom.splice(i, 1);\r\n\r\n                    return;\r\n                }\r\n                if (!isArray(c.panels)) {\r\n                    c.panels = [c.panels];\r\n                }\r\n\r\n                let exsit = false;\r\n\r\n                c.panels.forEach((cid, index) => {\r\n                    const rcid = this._getId(cid);\r\n\r\n                    panels.forEach((id) => {\r\n                        if (rcid === id) {\r\n                            c.panels.splice(index, 1);\r\n                            exsit = true;\r\n\r\n                            return;\r\n                        }\r\n                    });\r\n                    if (exsit) {\r\n                        return;\r\n                    }\r\n                });\r\n            });\r\n\r\n            o.custom = o.custom.filter((c) => c.panels.length > 0);\r\n\r\n            const panelOption = {\r\n                panels,\r\n                headHeight,\r\n                footHeight,\r\n                leftWidth,\r\n                rightWidth,\r\n                gutter,\r\n            };\r\n\r\n            o.custom.push(panelOption);\r\n\r\n            nodes.forEach((node) => {\r\n                addLayoutToPanel(node, panelOption, this.options.fontScale);\r\n                node.createElement();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set Panels Layout\r\n     * @param {Object|Array<Object>} options panel layout options array\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    setPanelLayout(options) {\r\n        if (options) {\r\n            (isArray(options) ? options : [options]).forEach((option) => this._setPanel(option));\r\n            this.update();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set panel position and zIndex\r\n     * @param {String|Number|HTMLElement} panel panel id or alias, or panel dom.\r\n     * @param {Number} left left\r\n     * @param {Number} top left\r\n     * @param {Number} zIndex zIndex\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    _updatePanel({ panels, left, top, width, height, zIndex }) {\r\n        (isArray(panels) ? panels : [panels]).forEach((panel) => {\r\n            const node = this._getNode(getTargetDataId(panel));\r\n\r\n            if (node) {\r\n                if (left) {\r\n                    const pl = node.percentLeft = isPercentage(left) ? translatePercentage(left) : null;\r\n\r\n                    if (pl !== null) left = pl;\r\n                    if (isNumber(left)) {\r\n                        if (node._oldLeft === undefined) {\r\n                            node._oldLeft = node.getLeft();\r\n                        }\r\n                        node.setLeft(pl !== null ? left * this.width : left);\r\n                    }\r\n                }\r\n                if (top) {\r\n                    const pt = node.percentTop = isPercentage(top) ? translatePercentage(top) : null;\r\n\r\n                    if (pt !== null) top = pt;\r\n                    if (isNumber(top)) {\r\n                        if (node._oldTop === undefined) {\r\n                            node._oldTop = node.getTop();\r\n                        }\r\n                        node.setTop(pt !== null ? top * this.height : top);\r\n                    }\r\n                }\r\n                if (isNumber(zIndex)) {\r\n                    if (node._oldZIndex === undefined) {\r\n                        node._oldZIndex = node.styles.zIndex;\r\n                    }\r\n                    node.setStyle({ zIndex });\r\n                }\r\n                if (width !== undefined && width !== null) {\r\n                    width = width || node.width;\r\n                    const pw = node.percentWidth = isPercentage(width) ? translatePercentage(width) : null;\r\n\r\n                    if (pw !== null) width = pw;\r\n                    if (isNumber(width)) {\r\n                        if (node._oldWidth === undefined) {\r\n                            node._oldWidth = node.getWidth();\r\n                        }\r\n                        node.setWidth(pw !== null ? width * this.width : width);\r\n                    }\r\n                }\r\n                if (height !== undefined && height !== null) {\r\n                    height = height || node.height;\r\n\r\n                    const ph = node.percentHeight = isPercentage(height) ? translatePercentage(height) : null;\r\n\r\n                    if (ph !== null) height = ph;\r\n                    if (isNumber(height)) {\r\n                        if (node._oldHeight === undefined) {\r\n                            node._oldHeight = node.getHeight();\r\n                        }\r\n                        node.setHeight(ph !== null ? height * this.height : height);\r\n                    }\r\n                }\r\n\r\n                if (node._oldWidth !== undefined || node._oldHeight !== undefined\r\n                    || node._classChange || node._styleChange) {\r\n                    setLineheight(this._vc, this.options.lineHeight);\r\n                }\r\n\r\n                node.update();\r\n            }\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Restore option\r\n     * @ignore\r\n     * @param {Object} option {panels, size, position, zIndex}\r\n     */\r\n    _restorePanel({ panels, size = true, position = true, zIndex = true }) {\r\n        (isArray(panels) ? panels : [panels]).forEach((panel) => {\r\n            const node = this._getNode(getTargetDataId(panel));\r\n\r\n            if (node) {\r\n                if (position) {\r\n                    if (node._oldLeft !== undefined) {\r\n                        node.setLeft(node._oldLeft);\r\n                    }\r\n                    if (node._oldTop !== undefined) {\r\n                        node.setTop(node._oldTop);\r\n                    }\r\n                }\r\n                if (size) {\r\n                    if (node._oldWidth !== undefined) {\r\n                        node.setWidth(node._oldWidth);\r\n                    }\r\n                    if (node._oldHeight !== undefined) {\r\n                        node.setHeight(node._oldHeight);\r\n                    }\r\n                }\r\n                if (zIndex) {\r\n                    if (node._oldZIndex !== undefined) {\r\n                        node.setStyle({\r\n                            zIndex: node._oldZIndex,\r\n                        });\r\n                    }\r\n                }\r\n                node.update();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Restore Panel State\r\n     * @param {Object|Array<Object>} options restore option\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    restore(options) {\r\n        if (options === undefined) {\r\n            this._restorePanel({\r\n                panels: this.getIds(),\r\n                size: true,\r\n                position: true,\r\n                zIndex: true,\r\n            });\r\n        } else {\r\n            (isArray(options) ? options : [options]).forEach((option) => {\r\n                if (option.panels) {\r\n                    this._restorePanel(option);\r\n                }\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get panel top, only for panel container.\r\n     * @param {String|Number|HTMLElement} target panel id or alias, or panel dom.\r\n     * @return {Number} top\r\n     */\r\n    $top(target) {\r\n        const node = this._getNode(getTargetDataId(target));\r\n\r\n        return node ? node.getTop() : 0;\r\n    }\r\n\r\n    /**\r\n     * Get panel left, only for panel container.\r\n     * @param {String|Number|HTMLElement} target panel id or alias, or panel dom.\r\n     * @return {Number} left\r\n     */\r\n    $left(target) {\r\n\r\n        const node = this._getNode(getTargetDataId(target));\r\n\r\n        return node ? node.getLeft() : 0;\r\n    }\r\n\r\n    /**\r\n     * Get component element width\r\n     * @param {String|Number|HTMLElement} target panel id or alias, or panel dom.\r\n     * @param {String} type element type: panel, panelContainer, lcr, center,head, foot, left, right\r\n     * @return {Number} width\r\n     */\r\n    $width(target, type) {\r\n        if (arguments.length === 0) {\r\n            return this.width;\r\n        }\r\n        let dom = target;\r\n\r\n        if (!isDOM(target)) {\r\n            const node = this._getNode(getTargetDataId(target), type);\r\n\r\n            dom = node && node.realDom;\r\n        }\r\n\r\n        return isDOM(dom) ? getPureStyle(dom, 'width') : -1;\r\n    }\r\n\r\n    /**\r\n     * Get component element height\r\n     * @param {String|Number|HTMLElement} target panel id or alias, or panel dom.\r\n     * @param {String} type element type: panel, panelContainer, lcr, center,head, foot, left, right\r\n     * @return {Number} height\r\n     */\r\n    $height(target, type) {\r\n        if (arguments.length === 0) {\r\n            return this.height;\r\n        }\r\n        let dom = target;\r\n\r\n        if (!isDOM(target)) {\r\n            const node = this._getNode(getTargetDataId(target), type);\r\n\r\n            dom = node && node.realDom;\r\n        }\r\n\r\n        return isDOM(dom) ? getPureStyle(dom, 'height') : -1;\r\n    }\r\n\r\n    /**\r\n     * show screen or panel\r\n     * @param {String|Number|HTMLElement|Array|null} target component id, map key or panel dom,\r\n     * if it's null that will be the screen container.\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    show(target) {\r\n        const c = this.container;\r\n\r\n        if (!target && c && isHidden(c)) {\r\n            css(c, { display: 'block' });\r\n        } else {\r\n            (isArray(target) ? target : [target]).forEach((t) => {\r\n                const id = this._getId(getTargetDataId(t)),\r\n                    node = this.panel(id);\r\n\r\n                if (isDOM(node) && isHidden(node)) {\r\n                    const index = contain(this._hideIds, id);\r\n\r\n                    if (index >= 0) {\r\n                        this._hideIds.splice(index, 1);\r\n                    }\r\n                    css(node, { display: 'block' });\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * show screen or panel\r\n     * @param {String|Number|HTMLElement|Array|null} target component id, map key or panel dom,\r\n     * if it's null that will be the screen container.\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    hide(target) {\r\n        const c = this.container;\r\n\r\n        if (!target && c && !isHidden(c)) {\r\n            css(c, { display: 'none' });\r\n        } else {\r\n            const ids = [];\r\n\r\n            (isArray(target) ? target : [target]).forEach((t) => {\r\n                const id = this._getId(getTargetDataId(t));\r\n\r\n                ids.push(id);\r\n                if (contain(this._hideIds, id) < 0) {\r\n                    this._hideIds.push(id);\r\n                }\r\n            });\r\n            setHide(ids, this._vc, this.options);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Execute methods for each component elements.\r\n     * @param {Function} fn fn\r\n     * @param {Array<String|Number|HTMLElement>} targets panels\r\n     * @param {Object} context context\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    each(fn, targets, context) {\r\n        const _targets = targets ? (isArray(targets) ? targets : targets).map((t) => getTargetDataId(t)) : this.getIds();\r\n\r\n        _each(this._vc, this.options, fn, _targets, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * remvoe screen or component\r\n     * @param {String|Number|null} target panel id or alias, if it's null that will be the screen container.\r\n     * @param {Boolean} clearTpl if true will delete template content\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    remove(target, clearTpl) {\r\n        if (arguments.length === 0) {\r\n            this._remove();\r\n        } else {\r\n            (isArray(target) ? target : [target]).forEach((t) => {\r\n                const node = this._getNode(getTargetDataId(t));\r\n\r\n                if (node && node.remove) {\r\n                    if (!clearTpl) {\r\n                        restorePanelTemplate(node, this.container, this._vc, this.options);\r\n                    }\r\n                    node.remove();\r\n                }\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add Panel width Options\r\n     * @param {Object} options panel options\r\n     * @return {PoPoInstance} current PoPoInstance instance\r\n     */\r\n    addPanel(options) {\r\n        const o = this.options;\r\n        const panel = addExtend(this._vc, o.padding, options, o.fontScale, true);\r\n\r\n        if (this._vc.realDom && panel) {\r\n            this._vc.realDom.appendChild(panel.createElement());\r\n        }\r\n\r\n        return this.get(panel.getId());\r\n    }\r\n\r\n    /**\r\n     * Remove screen\r\n     * @ignore\r\n     */\r\n    _remove() {\r\n        const p = this._pane,\r\n            old = this._oldContainerStyle,\r\n            c = this.container,\r\n            vc = this._vc,\r\n            o = this.options;\r\n\r\n        restoreTemplate(c, vc, o);\r\n        this.removeStyle();\r\n        this.disableDrag();\r\n        this._removeResize();\r\n        this._sizes = null;\r\n        this._fullId = 0;\r\n        this._fullZIndex = 0;\r\n        this._showIds = null;\r\n        this._hideIds = null;\r\n        this.style = null;\r\n        this._vc.remove();\r\n\r\n        if (isDOM(p) && p.parentNode) {\r\n            p.parentNode.removeChild(p);\r\n        }\r\n\r\n        removeByRole(CT.ZOOMPANE, c);\r\n        removeByRole(CT.EXT_PANE, c);\r\n        this._pane = null;\r\n        this._vc = null;\r\n        this._vpanels = null;\r\n        this._scrollPane = null;\r\n        this.options = null;\r\n\r\n        if (old && old.position) {\r\n            css(c, { position: old.position });\r\n        }\r\n\r\n        this.container = null;\r\n\r\n        this._oldContainerStyle = null;\r\n\r\n        this._oldBodyScroll = null;\r\n\r\n        /*eslint-disable */\r\n        this._popo_id = 0;\r\n        /*eslint-enable */\r\n\r\n        this._zoomContainer = null;\r\n\r\n        this._zoomInfoPane = null;\r\n\r\n        this.width = 0;\r\n\r\n        this.height = 0;\r\n    }\r\n\r\n    /**\r\n     * Full panel component\r\n     * @param {String|Number|HTMLElement} target panel id or alias, or panel dom.\r\n     * @param {Number} zIndex css zIndex\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    full(target, zIndex) {\r\n        if (target) {\r\n            const id = this._getId(getTargetDataId(target));\r\n\r\n            if (isNumber(id) && id > 0) {\r\n                if (this._fullId > 0) {\r\n                    this.unFull();\r\n                }\r\n                this._fullId = id;\r\n                this._fullZIndex = zIndex || 0;\r\n                this.update();\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Unfull the full target panel\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    unFull() {\r\n        if (this._fullId > 0 && _unFull(this._vc, this._getId(this._fullId))) {\r\n            this._fullId = 0;\r\n            this._fullZIndex = 0;\r\n            this.update();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update popo size.\r\n     */\r\n    _updateSize() {\r\n        const size = updateContainerSize(this._vc, this.options);\r\n\r\n        if (size) {\r\n            this.width = size.width;\r\n            this.height = size.height;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update popo or panel\r\n     * @param {Array|Object} options update options.\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    update(options) {\r\n        if (options === undefined) {\r\n            updateVCC(this._vc, this._pane, this._sizes, this.options, this._getId(this._fullId), this._fullZIndex || 0);\r\n            this._updateSize();\r\n        } else {\r\n            (isArray(options) ? options : [options]).forEach((t) => {\r\n                if (isObject(t)) {\r\n                    this._updatePanel(t);\r\n                }\r\n            });\r\n            this.update();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set Body scroll\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    setBodyScroll() {\r\n        const body = document.body,\r\n            zc = this._zoomContainer;\r\n\r\n        if (zc && zc.parentNode) {\r\n            this._oldBodyScroll = {\r\n                body: body.style.overflow,\r\n                zc: zc.style.overflow,\r\n                zcParent: zc.parentNode.style.overflow,\r\n            };\r\n\r\n            css(document.body, {\r\n                overflowY: 'auto',\r\n            });\r\n            css(this._zoomContainer.parentNode, {\r\n                overflow: 'visible',\r\n            });\r\n            css(this._zoomContainer, {\r\n                overflow: '',\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset Body Scroll\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    resetBodyScroll() {\r\n        const old = this._oldBodyScroll;\r\n\r\n        if (old) {\r\n            const body = document.body,\r\n                zc = this._zoomContainer;\r\n\r\n            this._oldBodyScroll = {\r\n                body: body.style.overflow,\r\n                zc: zc.style.overflow,\r\n                zcParent: zc.parentNode.style.overflow,\r\n            };\r\n            css(document.body, {\r\n                overflow: old.body,\r\n            });\r\n            css(this._zoomContainer.parentNode, {\r\n                overflow: old.zc,\r\n            });\r\n            css(this._zoomContainer, {\r\n                overflow: old.zcParent,\r\n            });\r\n\r\n            this._oldBodyScroll = null;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set or update style\r\n     * @ignore\r\n     * @param {Object} style style options\r\n     * @param {Boolean} isUpdate update or set style\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    _setStyle(style, isUpdate) {\r\n        if (isObject(style)) {\r\n            const { _vc, options, container, _zoomContainer } = this;\r\n\r\n            if (!isEmptyObject(this.style)) {\r\n                removeStyle(container, _vc, options, this.style, this);\r\n            }\r\n            this.style = isUpdate ? merge(this.style, style) : style;\r\n            _initStyle(container, _vc, _zoomContainer,\r\n                _zoomContainer.parentNode, options, this.style, true);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set style\r\n     * @ignore\r\n     * @param {Object} style style options\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    setStyle(style) {\r\n        return this._setStyle(style, false);\r\n    }\r\n\r\n    /**\r\n     * Update style\r\n     * @param {Object} style style option\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    updateStyle(style) {\r\n        return this._setStyle(style, true);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    removeStyle() {\r\n        const { style, _vc, options, container } = this;\r\n\r\n        if (style) {\r\n            removeStyle(container, _vc, options, style, this);\r\n            this.style = null;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add screen to container\r\n     * @param {String|HTMLElement} container container id or container dom.\r\n     * @param {Number} delay render delay @default 0\r\n     * @return {PoPoInstance} current popo instance\r\n     */\r\n    addTo(container, delay) {\r\n        if (this.container) {\r\n            throw new Error(ERROR_MSG.POPO_EXSIT);\r\n        } else {\r\n            const c = get(container);\r\n\r\n            if (c && isDOM(c)) {\r\n                this.container = c;\r\n                if (delay > 0) {\r\n                    setTimeout(() => { this._initContainer(); }, delay);\r\n                } else {\r\n                    this._initContainer();\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nmixins(PoPoInstance.prototype, [dragHandle, resize, wheelzoom]);\r\n","import { version } from '../package.json';\r\nimport * as DomUtil from './dom/dom';\r\nimport * as DomEvent from './dom/dom_event';\r\nimport * as Util from './utils/util';\r\nimport { validateAllLy as validateLayoutExp } from './popo/core/layout';\r\nimport Browser from './utils/browser';\r\nimport PoPoInstance from './popo/index';\r\nimport ERR from './constant/error';\r\n\r\nconst P = {\r\n\r\n    version,\r\n\r\n    instances: [],\r\n\r\n    init(options) {\r\n        const oc = options.container;\r\n        let popo = null;\r\n\r\n        if (oc) {\r\n            const c = Util.get(oc);\r\n\r\n            if (Util.isDOM(c)) {\r\n                const instance = Util.getObjectFromArray(P.instances, 'container', c);\r\n\r\n                if (instance) {\r\n                    throw new Error(ERR.POPO_EXSIT);\r\n                }\r\n            } else {\r\n                throw new Error(ERR.CONTAINER_ERR);\r\n            }\r\n        }\r\n\r\n        popo = new PoPoInstance(options);\r\n\r\n        P.instances.push(popo);\r\n\r\n        return popo;\r\n    },\r\n\r\n    extend: (obj) => {\r\n        if (Util.isObject(obj)) {\r\n            const keys = Object.keys(P);\r\n\r\n            for (const key in obj) {\r\n                if (Util.contain(keys, key) < 0) {\r\n                    if (Util.isFunction(obj[key])) {\r\n                        P[key] = (...args) => {\r\n                            const result = obj[key].apply(null, args);\r\n\r\n                            return result !== undefined ? result : P;\r\n                        }\r\n                    } else {\r\n                        P[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    getInstanceByDom: (container) => {\r\n        const c = Util.get(container);\r\n\r\n        return Util.isDOM(c) ? Util.getObjectFromArray(P.instances, 'container', c) : null;\r\n    },\r\n\r\n    dispose: (target) => {\r\n        if (!target) return;\r\n        if (target instanceof PoPoInstance) {\r\n            const index = Util.contain(P.instances, target);\r\n\r\n            if (index >= 0) {\r\n                P.instances.splice(index, 1);\r\n                target.remove();\r\n            }\r\n        }\r\n        if (target && (Util.isString(target) || Util.isDOM(target))) {\r\n            const c = Util.get(target);\r\n\r\n            if (Util.isDOM(c)) {\r\n                const instance = Util.removeObjectFromArray(P.instances, 'container', c);\r\n\r\n                if (instance) {\r\n                    instance[0].remove();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    DomUtil,\r\n\r\n    DomEvent,\r\n\r\n    Browser,\r\n\r\n    Util,\r\n};\r\n\r\nconst { bind, merge, extend } = Util,\r\n    { addClass, hasClass, removeClass, css, attr, isHidden, create, html } = DomUtil;\r\n\r\nP.extend({ addClass, hasClass, removeClass, css, attr, isHidden, create, html, bind, merge, extend, validateLayoutExp });\r\n\r\nif (typeof window !== 'undefined') {\r\n    const oldP = window.P;\r\n\r\n    P.noConflict = function noConflict() {\r\n        window.P = oldP;\r\n\r\n        return this;\r\n    };\r\n\r\n    window.P = P;\r\n}\r\n\r\nexport default P;\r\n"],"names":["lastId","stamp","obj","_popo_id","bind","fn","slice","Array","prototype","args","call","arguments","apply","_fn","length","concat","extend","dest","j","len","src","i","legalNumber","v","min","max","isNumber","trim","str","isString","replace","splitWords","split","type","o","t","Object","toString","isArray","isFunction","isObject","isEmptyObject","e","validateNumber","num","isNaN","Number","mixin","sources","key","mixins","sourcesArr","forEach","source","getObjectFromArray","arr","value","filter","removeObjectFromArray","splice","get","dom","document","getElementById","_isDOM1","HTMLElement","_isDOM2","nodeType","nodeName","isDOM","cloneJsonObject","JSON","parse","stringify","merge","target","copyObj","copyFuns","newObj","getPercentage","number","init","capitalize","charAt","toUpperCase","reverseCamelcase","n","l","toLowerCase","camelize","indexOf","match","unique","array","r","push","firstUpperCase","L","isPercentage","translatePercentage","index","substring","translateNumberToPercentage","contain","item","throttle","time","context","lock","later","wrapperFn","formatNum","digits","pow","Math","round","formatNumber","getCssSize","size","scale","getPureValue","multiplyBy","m","val","formatMargin","margin","p","map","_getScaleMargin","formatMargin2","String","NM","testProp","props","style","documentElement","TRANSFORM","TRANSITION","TRANSITION_END","getClass","el","className","baseVal","undefined","hasClass","name","classList","contains","RegExp","test","setClass","addClass","classes","add","removeClass","names","remove","cls","setStyle","styles","addOn","_key","css","getStyle","create","tag","classnames","container","createElement","appendChild","html","innerHTML","isHidden","addHStyle","head","querySelector","oldStyle","node","insertBefore","removeByClass","classname","querySelectorAll","parentNode","removeChild","removeByRole","attr","CT","ROLE","query","eachChild","parent","childNodes","setAttribute","getAttribute","currentStyle","window","getComputedStyle","getPureStyle","getRect","getBoundingClientRect","getTargetDataId","id","COMPONENT_ID_KEY","getId","createPublicStyle","POPO","PANE","GRID_L_C_R","GRID_LEFT","GRID_CENTER","GRID_RIGHT","GRID_FOOT","GRID_HEAD","INFO","EXT_PANE","ua","navigator","userAgent","doc","width","innerWidth","clientWidth","body","height","innerHeight","clientHeight","ie","webkit","mobile","orientation","eventsKey","EVENT","wheelPxFactor","Browser","win","chrome","devicePixelRatio","gecko","addOne","handler","event","addEventListener","attachEvent","removeOne","removeEventListener","detachEvent","stopPropagation","originalEvent","_stopped","cancelBubble","preventDefault","returnValue","stop","on","types","off","getWheelDelta","edge","wheelDeltaY","deltaY","deltaMode","deltaX","deltaZ","wheelDelta","detail","abs","VNode","classNames","children","role","isExtend","cns","inner","join","result","_query","vnode","top","left","son","that","removeNode","realDom","realDomClass","w","h","_getSize","render","update","c","lastChild","getLastChild","sumArrFirst","sum","a","sumItem","sumArr","validateAllLy","ly","rows","cols","startType","great","firstCount","validateCore","count","initSize","unitRow","unitCol","sizes","SINGLE_ROW","toFixed","COL","validateLayoutNumber","end","getLayoutWrapCount","layouts","start","validateLayout","Error","ERROR_MSG","LY_INVALID","getRowClassName","row","getColClassName","col","hasRow","ROW","generateEvLy","rowNumber","colNumber","floor","colsLength","newVNode","setId","Vnode","addClassName","insertTo","setRole","PANEL","removeUnused","vc","panels","selectPanel","nodes","newLy","layout","childrens","vparentNode","updateVnodeSize","options","keys","gutter","freeLy","fixedHeight","fixedWidth","setSize","setWidth","setHeight","updateFixedSize","updateRealsize","padding","paddingLeft","right","paddingTop","bottom","rect","_origionWidth","_origionHeight","child","fixedTotalHeight","layoutStartType","fixedTotalWidth","updateAbs","_step","setAbs","step","panel","setTop","setLeft","clearClassName","PANEL_DEFAULT_ZINDEX","initLayoutSet","MIN_LY_COUNT","_ly","toLocaleLowerCase","fh","fw","LY_FIXED_LESS","initLayout","lys","updateLayout","genPanelLy","headHeight","footHeight","rightWidth","leftWidth","containerHeight","centerWidth","addPanel","fontScale","containerNode","marginBottom","marginTop","addLayoutToPanel","queryByRole","PANEL_CONTAINER","panelContainer","position","addPanels","enable","df","default","custom","customIds","fullId","fullZIndex","customVnodes","_vn","getChild","zIndex","ROWS","COLS","prefix","NAME","WRAP","CONTAINER","ZOOMCONTAINER","ZOOMPANE","SVG","attrs","realNode","_stamp","preffix","FILTER","LINER_GRADIENT","RADIAL_GRADIENT","MARKER","DRAW_ID_KEY","filters","f","pureKeys","_filter","stops","setAttributeNS","hidden","createElementNS","globalStyle","VSVG","defs","_setId","_getDefById","childId","cx","cy","_stops","x1","y1","x2","y2","units","g","u","markers","color","marker","patterns","pattern","n2px","fz","px2n","_addGGL","show","PANEL_GUIDELINES","ggl","GUIDELINES","lineSize","lines","svg","ceil","points","points2","y","x","d","stroke","strokeWidth","addPanelGuidelines","dev","panelGuideline","gg","ids","getAllIds","getRealIds","alias","createPanelInfo","fontSize","info","setHtml","createDebugInfo","background","fontColor","span","createSVGText","text","fill","addGuidelines","guideline","gl","identifier","unitRowHeight","unitColWidth","addSplitLine","splitline","SPLITLINES","sl","infoY","infoX","loadDev","createPane","pd","createVc","vcToDom","stampInner","_popo_inner","addExtend","createPanel","defaultPanel","panelOption","getNewId","extendInfo","responsive","_style","defaultStyle","addNode","loadExtends","extends","ext","updateExtends","panelWidth","panelHeight","_oldHeight","_oldWidth","_oldTop","_oldLeft","getIdByAlias","_alias","getAliasById","_id","getNode","getNodesByPanel","getRealNodesByPanel","foot","center","lcr","elements","getRealdomsById","realId","getNodeById","setHide","vcontainer","showIds","hideType","createZoomContainer","z","zoom","zoomContainer","zoomPane","control","zoomControl","ZOOMIN","ZOOMINFO","ZOOMOUT","isInPoPo","veach","updateHideIds","all","done","_each","_full","oldSize","_unFull","_removeStyle","option","_class","_css","removeClassName","removeStyle","com","_setStyle","isUpdate","overwrite","setClassName","_initStyle","zoomParent","styleOption","getNewSize","old","percent","vsize","vvsize","totalSize","setNodeLayout","vvnode","fullzIndex","percentWidth","percentHeight","percentLeft","percentTop","updateOldVc","vn","vvn","getRole","_setOverflow","overflow","setOverflows","panelOverflow","updateContainerSize","updateVCC","vcc","lineHeight","_setNodeLineHeight","pt","pb","bt","bb","setLineheight","op","_t","insertTplDomToVc","TARGET","loadTemplate","hasAttribute","title","els","hasChildNodes","restorePanelTemplate","firstChild","restoreTemplate","TPL","removeAttribute","getScrollPane","scrollLeft","scrollTop","focusOn","offsetX","offsetY","pane","zoomUpdate","togglePoPo","display","_scrollPane","clientX","clientY","_startDrag","cursor","_onDragging","_onDragend","dr","_onDragStart","drag","_pane","dragPane","ui","updateInterval","_onResize","trackResize","interval","renderDelay","_context","ratio","_wheelScroll","delta","DomEvent","startTime","Date","DEBOUNCE","timer","setTimeout","_performZoom","disableScrollWheel","_onWheelScroll","PoPoInstance","defaultOptions","_initOptions","_fullId","_fullZIndex","_hideIds","hideIds","_showIds","_sizes","_vc","_initContainer","_oldContainerStyle","_zoomContainer","scroll","overflowVisible","overflowX","overflowY","_vpanels","_getId","_render","delay","_onRender","getIds","_resize","_updateSize","MIN_ZOOM","MAX_ZOOM","_initZoomEvent","wheelZoom","enableScrollWheel","enableDrag","focus","onload","zoomin","zoomout","_zoomInfoPane","preview","$width","$height","_getXComponent","clearTpl","_getNode","clear","clearPanel","exsit","cid","rcid","_setPanel","pl","getLeft","getTop","_oldZIndex","pw","getWidth","ph","getHeight","_classChange","_styleChange","_restorePanel","targets","_targets","_remove","disableDrag","_removeResize","_oldBodyScroll","unFull","_updatePanel","zc","zcParent","POPO_EXSIT","dragHandle","resize","wheelzoom","P","oc","popo","Util","instance","instances","ERR","CONTAINER_ERR","DomUtil","validateLayoutExp","oldP","noConflict"],"mappings":"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"}